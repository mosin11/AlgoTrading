import{$ as qi,$a as ue,A as ra,Aa as M,Ab as ze,B as ns,Ba as g,Bb as Xi,C as _t,Ca as ds,Cb as Ut,D as Zt,Da as lt,Db as bi,E as sa,Ea as ma,Eb as Ca,F as rs,Fa as yi,Fb as Da,G as Ot,Ga as Bn,Gb as Z,H as oa,Ha as us,Hb as Gn,I as pi,Ia as zn,Ib as qn,J as Nt,Ja as Ct,Jb as Sa,K as ss,Ka as Zi,Kb as Kn,L as aa,La as Y,Lb as Ea,M as ca,Ma as st,Mb as ti,N as la,Na as ga,Nb as Ia,O as Gi,Oa as va,Ob as Ra,P as $e,Pa as oe,Pb as Yn,Q as bt,Qa as Qi,Qb as Zn,R as ke,Ra as ie,S as X,Sa as Dt,T as mi,Ta as Xt,U as w,Ua as y,V as me,Va as v,W as da,Wa as Me,X as U,Xa as dt,Y as os,Ya as ut,Z as C,Za as Ue,_ as b,_a as Jt,a as _,aa as _e,ab as Be,b as H,ba as ge,bb as _i,ca as P,cb as ht,d as ad,da as ua,db as ft,e as cd,ea as Qt,eb as Qe,f as je,fa as ha,fb as Xe,g as es,ga as gi,gb as A,h as ta,ha as rt,hb as ya,i as xt,ia as We,ib as Ve,j as ts,ja as Ft,jb as Lt,k as $i,ka as Pt,kb as jt,l as pe,la as Ae,lb as Vt,m as Te,ma as as,mb as ve,n as Mt,na as vi,nb as be,o as Ce,oa as Vn,ob as hs,p as k,pa as xe,pb as fs,q as Wi,qa as de,qb as $n,r as fi,ra as cs,rb as Wn,s as ia,sa as Ee,sb as ps,t as V,ta as fa,tb as Hn,u as Hi,ua as Un,ub as ms,v as Le,va as pa,vb as _a,w as jn,wa as wt,wb as St,x as is,xa as ls,xb as ei,y as na,ya as Ki,yb as ba,z as yt,za as Yi,zb as wa}from"./chunk-MY7R3OC7.js";var Jl=ad((Qo,Xo)=>{"use strict";(function(i,e){typeof define=="function"&&define.amd?define([],e):typeof Xo=="object"&&typeof Qo<"u"?Xo.exports=e():i.Papa=e()})(Qo,function i(){"use strict";var e=typeof self<"u"?self:typeof window<"u"?window:e!==void 0?e:{},n=!e.document&&!!e.postMessage,t=e.IS_PAPA_WORKER||!1,r={},s=0,o={parse:function(u,d){var p=(d=d||{}).dynamicTyping||!1;if(B(p)&&(d.dynamicTypingFunction=p,p={}),d.dynamicTyping=p,d.transform=!!B(d.transform)&&d.transform,d.worker&&o.WORKERS_SUPPORTED){var D=function(){if(!o.WORKERS_SUPPORTED)return!1;var N=(Ie=e.URL||e.webkitURL||null,ce=i.toString(),o.BLOB_URL||(o.BLOB_URL=Ie.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",ce,")();"],{type:"text/javascript"})))),$=new e.Worker(N),Ie,ce;return $.onmessage=S,$.id=s++,r[$.id]=$}();return D.userStep=d.step,D.userChunk=d.chunk,D.userComplete=d.complete,D.userError=d.error,d.step=B(d.step),d.chunk=B(d.chunk),d.complete=B(d.complete),d.error=B(d.error),delete d.worker,void D.postMessage({input:u,config:d,workerId:D.id})}var I=null;return o.NODE_STREAM_INPUT,typeof u=="string"?(u=function(N){return N.charCodeAt(0)===65279?N.slice(1):N}(u),I=d.download?new c(d):new f(d)):u.readable===!0&&B(u.read)&&B(u.on)?I=new m(d):(e.File&&u instanceof File||u instanceof Object)&&(I=new h(d)),I.stream(u)},unparse:function(u,d){var p=!1,D=!0,I=",",N=`\r
`,$='"',Ie=$+$,ce=!1,R=null,he=!1;(function(){if(typeof d=="object"){if(typeof d.delimiter!="string"||o.BAD_DELIMITERS.filter(function(E){return d.delimiter.indexOf(E)!==-1}).length||(I=d.delimiter),(typeof d.quotes=="boolean"||typeof d.quotes=="function"||Array.isArray(d.quotes))&&(p=d.quotes),typeof d.skipEmptyLines!="boolean"&&typeof d.skipEmptyLines!="string"||(ce=d.skipEmptyLines),typeof d.newline=="string"&&(N=d.newline),typeof d.quoteChar=="string"&&($=d.quoteChar),typeof d.header=="boolean"&&(D=d.header),Array.isArray(d.columns)){if(d.columns.length===0)throw new Error("Option columns is empty");R=d.columns}d.escapeChar!==void 0&&(Ie=d.escapeChar+$),(typeof d.escapeFormulae=="boolean"||d.escapeFormulae instanceof RegExp)&&(he=d.escapeFormulae instanceof RegExp?d.escapeFormulae:/^[=+\-@\t\r].*$/)}})();var O=new RegExp(F($),"g");if(typeof u=="string"&&(u=JSON.parse(u)),Array.isArray(u)){if(!u.length||Array.isArray(u[0]))return it(null,u,ce);if(typeof u[0]=="object")return it(R||Object.keys(u[0]),u,ce)}else if(typeof u=="object")return typeof u.data=="string"&&(u.data=JSON.parse(u.data)),Array.isArray(u.data)&&(u.fields||(u.fields=u.meta&&u.meta.fields||R),u.fields||(u.fields=Array.isArray(u.data[0])?u.fields:typeof u.data[0]=="object"?Object.keys(u.data[0]):[]),Array.isArray(u.data[0])||typeof u.data[0]=="object"||(u.data=[u.data])),it(u.fields||[],u.data||[],ce);throw new Error("Unable to serialize unrecognized input");function it(E,te,Fe){var le="";typeof E=="string"&&(E=JSON.parse(E)),typeof te=="string"&&(te=JSON.parse(te));var Re=Array.isArray(E)&&0<E.length,De=!Array.isArray(te[0]);if(Re&&D){for(var Se=0;Se<E.length;Se++)0<Se&&(le+=I),le+=Ne(E[Se],Se);0<te.length&&(le+=N)}for(var x=0;x<te.length;x++){var q=Re?E.length:te[x].length,re=!1,we=Re?Object.keys(te[x]).length===0:te[x].length===0;if(Fe&&!Re&&(re=Fe==="greedy"?te[x].join("").trim()==="":te[x].length===1&&te[x][0].length===0),Fe==="greedy"&&Re){for(var Q=[],Pe=0;Pe<q;Pe++){var fe=De?E[Pe]:Pe;Q.push(te[x][fe])}re=Q.join("").trim()===""}if(!re){for(var J=0;J<q;J++){0<J&&!we&&(le+=I);var nt=Re&&De?E[J]:J;le+=Ne(te[x][nt],J)}x<te.length-1&&(!Fe||0<q&&!we)&&(le+=N)}}return le}function Ne(E,te){if(E==null)return"";if(E.constructor===Date)return JSON.stringify(E).slice(1,25);var Fe=!1;he&&typeof E=="string"&&he.test(E)&&(E="'"+E,Fe=!0);var le=E.toString().replace(O,Ie);return(Fe=Fe||p===!0||typeof p=="function"&&p(E,te)||Array.isArray(p)&&p[te]||function(Re,De){for(var Se=0;Se<De.length;Se++)if(-1<Re.indexOf(De[Se]))return!0;return!1}(le,o.BAD_DELIMITERS)||-1<le.indexOf(I)||le.charAt(0)===" "||le.charAt(le.length-1)===" ")?$+le+$:le}}};if(o.RECORD_SEP="",o.UNIT_SEP="",o.BYTE_ORDER_MARK="\uFEFF",o.BAD_DELIMITERS=["\r",`
`,'"',o.BYTE_ORDER_MARK],o.WORKERS_SUPPORTED=!n&&!!e.Worker,o.NODE_STREAM_INPUT=1,o.LocalChunkSize=10485760,o.RemoteChunkSize=5242880,o.DefaultDelimiter=",",o.Parser=z,o.ParserHandle=T,o.NetworkStreamer=c,o.FileStreamer=h,o.StringStreamer=f,o.ReadableStreamStreamer=m,e.jQuery){var a=e.jQuery;a.fn.parse=function(u){var d=u.config||{},p=[];return this.each(function(N){if(!(a(this).prop("tagName").toUpperCase()==="INPUT"&&a(this).attr("type").toLowerCase()==="file"&&e.FileReader)||!this.files||this.files.length===0)return!0;for(var $=0;$<this.files.length;$++)p.push({file:this.files[$],inputElem:this,instanceConfig:a.extend({},d)})}),D(),this;function D(){if(p.length!==0){var N,$,Ie,ce,R=p[0];if(B(u.before)){var he=u.before(R.file,R.inputElem);if(typeof he=="object"){if(he.action==="abort")return N="AbortError",$=R.file,Ie=R.inputElem,ce=he.reason,void(B(u.error)&&u.error({name:N},$,Ie,ce));if(he.action==="skip")return void I();typeof he.config=="object"&&(R.instanceConfig=a.extend(R.instanceConfig,he.config))}else if(he==="skip")return void I()}var O=R.instanceConfig.complete;R.instanceConfig.complete=function(it){B(O)&&O(it,R.file,R.inputElem),I()},o.parse(R.file,R.instanceConfig)}else B(u.complete)&&u.complete()}function I(){p.splice(0,1),D()}}}function l(u){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(d){var p=ae(d);p.chunkSize=parseInt(p.chunkSize),d.step||d.chunk||(p.chunkSize=null),this._handle=new T(p),(this._handle.streamer=this)._config=p}).call(this,u),this.parseChunk=function(d,p){if(this.isFirstChunk&&B(this._config.beforeFirstChunk)){var D=this._config.beforeFirstChunk(d);D!==void 0&&(d=D)}this.isFirstChunk=!1,this._halted=!1;var I=this._partialLine+d;this._partialLine="";var N=this._handle.parse(I,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var $=N.meta.cursor;this._finished||(this._partialLine=I.substring($-this._baseIndex),this._baseIndex=$),N&&N.data&&(this._rowCount+=N.data.length);var Ie=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(t)e.postMessage({results:N,workerId:o.WORKER_ID,finished:Ie});else if(B(this._config.chunk)&&!p){if(this._config.chunk(N,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);N=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(N.data),this._completeResults.errors=this._completeResults.errors.concat(N.errors),this._completeResults.meta=N.meta),this._completed||!Ie||!B(this._config.complete)||N&&N.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),Ie||N&&N.meta.paused||this._nextChunk(),N}this._halted=!0},this._sendError=function(d){B(this._config.error)?this._config.error(d):t&&this._config.error&&e.postMessage({workerId:o.WORKER_ID,error:d,finished:!1})}}function c(u){var d;(u=u||{}).chunkSize||(u.chunkSize=o.RemoteChunkSize),l.call(this,u),this._nextChunk=n?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(p){this._input=p,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(d=new XMLHttpRequest,this._config.withCredentials&&(d.withCredentials=this._config.withCredentials),n||(d.onload=W(this._chunkLoaded,this),d.onerror=W(this._chunkError,this)),d.open(this._config.downloadRequestBody?"POST":"GET",this._input,!n),this._config.downloadRequestHeaders){var p=this._config.downloadRequestHeaders;for(var D in p)d.setRequestHeader(D,p[D])}if(this._config.chunkSize){var I=this._start+this._config.chunkSize-1;d.setRequestHeader("Range","bytes="+this._start+"-"+I)}try{d.send(this._config.downloadRequestBody)}catch(N){this._chunkError(N.message)}n&&d.status===0&&this._chunkError()}},this._chunkLoaded=function(){d.readyState===4&&(d.status<200||400<=d.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:d.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(p){var D=p.getResponseHeader("Content-Range");return D===null?-1:parseInt(D.substring(D.lastIndexOf("/")+1))}(d),this.parseChunk(d.responseText)))},this._chunkError=function(p){var D=d.statusText||p;this._sendError(new Error(D))}}function h(u){var d,p;(u=u||{}).chunkSize||(u.chunkSize=o.LocalChunkSize),l.call(this,u);var D=typeof FileReader<"u";this.stream=function(I){this._input=I,p=I.slice||I.webkitSlice||I.mozSlice,D?((d=new FileReader).onload=W(this._chunkLoaded,this),d.onerror=W(this._chunkError,this)):d=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var I=this._input;if(this._config.chunkSize){var N=Math.min(this._start+this._config.chunkSize,this._input.size);I=p.call(I,this._start,N)}var $=d.readAsText(I,this._config.encoding);D||this._chunkLoaded({target:{result:$}})},this._chunkLoaded=function(I){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(I.target.result)},this._chunkError=function(){this._sendError(d.error)}}function f(u){var d;l.call(this,u=u||{}),this.stream=function(p){return d=p,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var p,D=this._config.chunkSize;return D?(p=d.substring(0,D),d=d.substring(D)):(p=d,d=""),this._finished=!d,this.parseChunk(p)}}}function m(u){l.call(this,u=u||{});var d=[],p=!0,D=!1;this.pause=function(){l.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){l.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(I){this._input=I,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){D&&d.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),d.length?this.parseChunk(d.shift()):p=!0},this._streamData=W(function(I){try{d.push(typeof I=="string"?I:I.toString(this._config.encoding)),p&&(p=!1,this._checkIsFinished(),this.parseChunk(d.shift()))}catch(N){this._streamError(N)}},this),this._streamError=W(function(I){this._streamCleanUp(),this._sendError(I)},this),this._streamEnd=W(function(){this._streamCleanUp(),D=!0,this._streamData("")},this),this._streamCleanUp=W(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function T(u){var d,p,D,I=Math.pow(2,53),N=-I,$=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,Ie=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,ce=this,R=0,he=0,O=!1,it=!1,Ne=[],E={data:[],errors:[],meta:{}};if(B(u.step)){var te=u.step;u.step=function(x){if(E=x,Re())le();else{if(le(),E.data.length===0)return;R+=x.data.length,u.preview&&R>u.preview?p.abort():(E.data=E.data[0],te(E,ce))}}}function Fe(x){return u.skipEmptyLines==="greedy"?x.join("").trim()==="":x.length===1&&x[0].length===0}function le(){return E&&D&&(Se("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+o.DefaultDelimiter+"'"),D=!1),u.skipEmptyLines&&(E.data=E.data.filter(function(x){return!Fe(x)})),Re()&&function(){if(!E)return;function x(re,we){B(u.transformHeader)&&(re=u.transformHeader(re,we)),Ne.push(re)}if(Array.isArray(E.data[0])){for(var q=0;Re()&&q<E.data.length;q++)E.data[q].forEach(x);E.data.splice(0,1)}else E.data.forEach(x)}(),function(){if(!E||!u.header&&!u.dynamicTyping&&!u.transform)return E;function x(re,we){var Q,Pe=u.header?{}:[];for(Q=0;Q<re.length;Q++){var fe=Q,J=re[Q];u.header&&(fe=Q>=Ne.length?"__parsed_extra":Ne[Q]),u.transform&&(J=u.transform(J,fe)),J=De(fe,J),fe==="__parsed_extra"?(Pe[fe]=Pe[fe]||[],Pe[fe].push(J)):Pe[fe]=J}return u.header&&(Q>Ne.length?Se("FieldMismatch","TooManyFields","Too many fields: expected "+Ne.length+" fields but parsed "+Q,he+we):Q<Ne.length&&Se("FieldMismatch","TooFewFields","Too few fields: expected "+Ne.length+" fields but parsed "+Q,he+we)),Pe}var q=1;return!E.data.length||Array.isArray(E.data[0])?(E.data=E.data.map(x),q=E.data.length):E.data=x(E.data,0),u.header&&E.meta&&(E.meta.fields=Ne),he+=q,E}()}function Re(){return u.header&&Ne.length===0}function De(x,q){return re=x,u.dynamicTypingFunction&&u.dynamicTyping[re]===void 0&&(u.dynamicTyping[re]=u.dynamicTypingFunction(re)),(u.dynamicTyping[re]||u.dynamicTyping)===!0?q==="true"||q==="TRUE"||q!=="false"&&q!=="FALSE"&&(function(we){if($.test(we)){var Q=parseFloat(we);if(N<Q&&Q<I)return!0}return!1}(q)?parseFloat(q):Ie.test(q)?new Date(q):q===""?null:q):q;var re}function Se(x,q,re,we){var Q={type:x,code:q,message:re};we!==void 0&&(Q.row=we),E.errors.push(Q)}this.parse=function(x,q,re){var we=u.quoteChar||'"';if(u.newline||(u.newline=function(fe,J){fe=fe.substring(0,1048576);var nt=new RegExp(F(J)+"([^]*?)"+F(J),"gm"),qe=(fe=fe.replace(nt,"")).split("\r"),ct=fe.split(`
`),gt=1<ct.length&&ct[0].length<qe[0].length;if(qe.length===1||gt)return`
`;for(var Ke=0,se=0;se<qe.length;se++)qe[se][0]===`
`&&Ke++;return Ke>=qe.length/2?`\r
`:"\r"}(x,we)),D=!1,u.delimiter)B(u.delimiter)&&(u.delimiter=u.delimiter(x),E.meta.delimiter=u.delimiter);else{var Q=function(fe,J,nt,qe,ct){var gt,Ke,se,ye;ct=ct||[",","	","|",";",o.RECORD_SEP,o.UNIT_SEP];for(var Kt=0;Kt<ct.length;Kt++){var K=ct[Kt],hi=0,vt=0,Yt=0;se=void 0;for(var Tt=new z({comments:qe,delimiter:K,newline:J,preview:10}).parse(fe),kt=0;kt<Tt.data.length;kt++)if(nt&&Fe(Tt.data[kt]))Yt++;else{var At=Tt.data[kt].length;vt+=At,se!==void 0?0<At&&(hi+=Math.abs(At-se),se=At):se=At}0<Tt.data.length&&(vt/=Tt.data.length-Yt),(Ke===void 0||hi<=Ke)&&(ye===void 0||ye<vt)&&1.99<vt&&(Ke=hi,gt=K,ye=vt)}return{successful:!!(u.delimiter=gt),bestDelimiter:gt}}(x,u.newline,u.skipEmptyLines,u.comments,u.delimitersToGuess);Q.successful?u.delimiter=Q.bestDelimiter:(D=!0,u.delimiter=o.DefaultDelimiter),E.meta.delimiter=u.delimiter}var Pe=ae(u);return u.preview&&u.header&&Pe.preview++,d=x,p=new z(Pe),E=p.parse(d,q,re),le(),O?{meta:{paused:!0}}:E||{meta:{paused:!1}}},this.paused=function(){return O},this.pause=function(){O=!0,p.abort(),d=B(u.chunk)?"":d.substring(p.getCharIndex())},this.resume=function(){ce.streamer._halted?(O=!1,ce.streamer.parseChunk(d,!0)):setTimeout(ce.resume,3)},this.aborted=function(){return it},this.abort=function(){it=!0,p.abort(),E.meta.aborted=!0,B(u.complete)&&u.complete(E),d=""}}function F(u){return u.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function z(u){var d,p=(u=u||{}).delimiter,D=u.newline,I=u.comments,N=u.step,$=u.preview,Ie=u.fastMode,ce=d=u.quoteChar===void 0||u.quoteChar===null?'"':u.quoteChar;if(u.escapeChar!==void 0&&(ce=u.escapeChar),(typeof p!="string"||-1<o.BAD_DELIMITERS.indexOf(p))&&(p=","),I===p)throw new Error("Comment character same as delimiter");I===!0?I="#":(typeof I!="string"||-1<o.BAD_DELIMITERS.indexOf(I))&&(I=!1),D!==`
`&&D!=="\r"&&D!==`\r
`&&(D=`
`);var R=0,he=!1;this.parse=function(O,it,Ne){if(typeof O!="string")throw new Error("Input must be a string");var E=O.length,te=p.length,Fe=D.length,le=I.length,Re=B(N),De=[],Se=[],x=[],q=R=0;if(!O)return Ye();if(u.header&&!it){var re=O.split(D)[0].split(p),we=[],Q={},Pe=!1;for(var fe in re){var J=re[fe];B(u.transformHeader)&&(J=u.transformHeader(J,fe));var nt=J,qe=Q[J]||0;for(0<qe&&(Pe=!0,nt=J+"_"+qe),Q[J]=qe+1;we.includes(nt);)nt=nt+"_"+qe;we.push(nt)}if(Pe){var ct=O.split(D);ct[0]=we.join(p),O=ct.join(D)}}if(Ie||Ie!==!1&&O.indexOf(d)===-1){for(var gt=O.split(D),Ke=0;Ke<gt.length;Ke++){if(x=gt[Ke],R+=x.length,Ke!==gt.length-1)R+=D.length;else if(Ne)return Ye();if(!I||x.substring(0,le)!==I){if(Re){if(De=[],Yt(x.split(p)),Ln(),he)return Ye()}else Yt(x.split(p));if($&&$<=Ke)return De=De.slice(0,$),Ye(!0)}}return Ye()}for(var se=O.indexOf(p,R),ye=O.indexOf(D,R),Kt=new RegExp(F(ce)+F(d),"g"),K=O.indexOf(d,R);;)if(O[R]!==d)if(I&&x.length===0&&O.substring(R,R+le)===I){if(ye===-1)return Ye();R=ye+Fe,ye=O.indexOf(D,R),se=O.indexOf(p,R)}else if(se!==-1&&(se<ye||ye===-1))x.push(O.substring(R,se)),R=se+te,se=O.indexOf(p,R);else{if(ye===-1)break;if(x.push(O.substring(R,ye)),At(ye+Fe),Re&&(Ln(),he))return Ye();if($&&De.length>=$)return Ye(!0)}else for(K=R,R++;;){if((K=O.indexOf(d,K+1))===-1)return Ne||Se.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:De.length,index:R}),kt();if(K===E-1)return kt(O.substring(R,K).replace(Kt,d));if(d!==ce||O[K+1]!==ce){if(d===ce||K===0||O[K-1]!==ce){se!==-1&&se<K+1&&(se=O.indexOf(p,K+1)),ye!==-1&&ye<K+1&&(ye=O.indexOf(D,K+1));var hi=Tt(ye===-1?se:Math.min(se,ye));if(O.substr(K+1+hi,te)===p){x.push(O.substring(R,K).replace(Kt,d)),O[R=K+1+hi+te]!==d&&(K=O.indexOf(d,R)),se=O.indexOf(p,R),ye=O.indexOf(D,R);break}var vt=Tt(ye);if(O.substring(K+1+vt,K+1+vt+Fe)===D){if(x.push(O.substring(R,K).replace(Kt,d)),At(K+1+vt+Fe),se=O.indexOf(p,R),K=O.indexOf(d,R),Re&&(Ln(),he))return Ye();if($&&De.length>=$)return Ye(!0);break}Se.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:De.length,index:R}),K++}}else K++}return kt();function Yt(Ze){De.push(Ze),q=R}function Tt(Ze){var ea=0;if(Ze!==-1){var Jr=O.substring(K+1,Ze);Jr&&Jr.trim()===""&&(ea=Jr.length)}return ea}function kt(Ze){return Ne||(Ze===void 0&&(Ze=O.substring(R)),x.push(Ze),R=E,Yt(x),Re&&Ln()),Ye()}function At(Ze){R=Ze,Yt(x),x=[],ye=O.indexOf(D,R)}function Ye(Ze){return{data:De,errors:Se,meta:{delimiter:p,linebreak:D,aborted:he,truncated:!!Ze,cursor:q+(it||0)}}}function Ln(){N(Ye()),De=[],Se=[]}},this.abort=function(){he=!0},this.getCharIndex=function(){return R}}function S(u){var d=u.data,p=r[d.workerId],D=!1;if(d.error)p.userError(d.error,d.file);else if(d.results&&d.results.data){var I={abort:function(){D=!0,L(d.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:ne,resume:ne};if(B(p.userStep)){for(var N=0;N<d.results.data.length&&(p.userStep({data:d.results.data[N],errors:d.results.errors,meta:d.results.meta},I),!D);N++);delete d.results}else B(p.userChunk)&&(p.userChunk(d.results,I,d.file),delete d.results)}d.finished&&!D&&L(d.workerId,d.results)}function L(u,d){var p=r[u];B(p.userComplete)&&p.userComplete(d),p.terminate(),delete r[u]}function ne(){throw new Error("Not implemented.")}function ae(u){if(typeof u!="object"||u===null)return u;var d=Array.isArray(u)?[]:{};for(var p in u)d[p]=ae(u[p]);return d}function W(u,d){return function(){u.apply(d,arguments)}}function B(u){return typeof u=="function"}return t&&(e.onmessage=function(u){var d=u.data;if(o.WORKER_ID===void 0&&d&&(o.WORKER_ID=d.workerId),typeof d.input=="string")e.postMessage({workerId:o.WORKER_ID,results:o.parse(d.input,d.config),finished:!0});else if(e.File&&d.input instanceof File||d.input instanceof Object){var p=o.parse(d.input,d.config);p&&e.postMessage({workerId:o.WORKER_ID,results:p,finished:!0})}}),(c.prototype=Object.create(l.prototype)).constructor=c,(h.prototype=Object.create(l.prototype)).constructor=h,(f.prototype=Object.create(f.prototype)).constructor=f,(m.prototype=Object.create(l.prototype)).constructor=m,o})});var en=class{},Xn=class{},Je=class i{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let t=n.indexOf(":");if(t>0){let r=n.slice(0,t),s=r.toLowerCase(),o=n.slice(t+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,t)=>{this.setHeaderEntries(t,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,t])=>{this.setHeaderEntries(n,t)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof i?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new i;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof i?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let t=e.value;if(typeof t=="string"&&(t=[t]),t.length===0)return;this.maybeSetNormalizedName(e.name,n);let r=(e.op==="a"?this.headers.get(n):void 0)||[];r.push(...t),this.headers.set(n,r);break;case"d":let s=e.value;if(!s)this.headers.delete(n),this.normalizedNames.delete(n);else{let o=this.headers.get(n);if(!o)return;o=o.filter(a=>s.indexOf(a)===-1),o.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,o)}break}}setHeaderEntries(e,n){let t=(Array.isArray(n)?n:[n]).map(s=>s.toString()),r=e.toLowerCase();this.headers.set(r,t),this.maybeSetNormalizedName(e,r)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var vs=class{encodeKey(e){return Ta(e)}encodeValue(e){return Ta(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function dd(i,e){let n=new Map;return i.length>0&&i.replace(/^\?/,"").split("&").forEach(r=>{let s=r.indexOf("="),[o,a]=s==-1?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,s)),e.decodeValue(r.slice(s+1))],l=n.get(o)||[];l.push(a),n.set(o,l)}),n}var ud=/%(\d[a-f0-9])/gi,hd={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Ta(i){return encodeURIComponent(i).replace(ud,(e,n)=>hd[n]??e)}function Qn(i){return`${i}`}var zt=class i{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new vs,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=dd(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let t=e.fromObject[n],r=Array.isArray(t)?t.map(Qn):[Qn(t)];this.map.set(n,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(t=>{let r=e[t];Array.isArray(r)?r.forEach(s=>{n.push({param:t,value:s,op:"a"})}):n.push({param:t,value:r,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(t=>n+"="+this.encoder.encodeValue(t)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new i({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(Qn(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let t=this.map.get(e.param)||[],r=t.indexOf(Qn(e.value));r!==-1&&t.splice(r,1),t.length>0?this.map.set(e.param,t):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var ys=class{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function fd(i){switch(i){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function ka(i){return typeof ArrayBuffer<"u"&&i instanceof ArrayBuffer}function Aa(i){return typeof Blob<"u"&&i instanceof Blob}function xa(i){return typeof FormData<"u"&&i instanceof FormData}function pd(i){return typeof URLSearchParams<"u"&&i instanceof URLSearchParams}var Ji=class i{constructor(e,n,t,r){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let s;if(fd(this.method)||r?(this.body=t!==void 0?t:null,s=r):s=t,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new Je,this.context??=new ys,!this.params)this.params=new zt,this.urlWithParams=n;else{let o=this.params.toString();if(o.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),l=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+l+o}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||ka(this.body)||Aa(this.body)||xa(this.body)||pd(this.body)?this.body:this.body instanceof zt?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||xa(this.body)?null:Aa(this.body)?this.body.type||null:ka(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof zt?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let n=e.method||this.method,t=e.url||this.url,r=e.responseType||this.responseType,s=e.transferCache??this.transferCache,o=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,l=e.reportProgress??this.reportProgress,c=e.headers||this.headers,h=e.params||this.params,f=e.context??this.context;return e.setHeaders!==void 0&&(c=Object.keys(e.setHeaders).reduce((m,T)=>m.set(T,e.setHeaders[T]),c)),e.setParams&&(h=Object.keys(e.setParams).reduce((m,T)=>m.set(T,e.setParams[T]),h)),new i(n,t,o,{params:h,headers:c,context:f,reportProgress:l,responseType:r,withCredentials:a,transferCache:s})}},$t=function(i){return i[i.Sent=0]="Sent",i[i.UploadProgress=1]="UploadProgress",i[i.ResponseHeader=2]="ResponseHeader",i[i.DownloadProgress=3]="DownloadProgress",i[i.Response=4]="Response",i[i.User=5]="User",i}($t||{}),tn=class{constructor(e,n=200,t="OK"){this.headers=e.headers||new Je,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||t,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Jn=class i extends tn{constructor(e={}){super(e),this.type=$t.ResponseHeader}clone(e={}){return new i({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},nn=class i extends tn{constructor(e={}){super(e),this.type=$t.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new i({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Bt=class extends tn{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},Pa=200,md=204;function gs(i,e){return{body:e,headers:i.headers,context:i.context,observe:i.observe,params:i.params,reportProgress:i.reportProgress,responseType:i.responseType,withCredentials:i.withCredentials,transferCache:i.transferCache}}var ws=(()=>{let e=class e{constructor(t){this.handler=t}request(t,r,s={}){let o;if(t instanceof Ji)o=t;else{let c;s.headers instanceof Je?c=s.headers:c=new Je(s.headers);let h;s.params&&(s.params instanceof zt?h=s.params:h=new zt({fromObject:s.params})),o=new Ji(t,r,s.body!==void 0?s.body:null,{headers:c,context:s.context,params:h,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials,transferCache:s.transferCache})}let a=k(o).pipe(Zt(c=>this.handler.handle(c)));if(t instanceof Ji||s.observe==="events")return a;let l=a.pipe(yt(c=>c instanceof nn));switch(s.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return l.pipe(V(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return l.pipe(V(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return l.pipe(V(c=>{if(c.body!==null&&typeof c.body!="string")throw new Error("Response is not a string.");return c.body}));case"json":default:return l.pipe(V(c=>c.body))}case"response":return l;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new zt().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,s={}){return this.request("PATCH",t,gs(s,r))}post(t,r,s={}){return this.request("POST",t,gs(s,r))}put(t,r,s={}){return this.request("PUT",t,gs(s,r))}};e.\u0275fac=function(r){return new(r||e)(C(en))},e.\u0275prov=w({token:e,factory:e.\u0275fac});let i=e;return i})(),gd=/^\)\]\}',?\n/,vd="X-Request-URL";function Ma(i){if(i.url)return i.url;let e=vd.toLocaleLowerCase();return i.headers.get(e)}var yd=(()=>{let e=class e{constructor(){this.fetchImpl=b(_s,{optional:!0})?.fetch??fetch.bind(globalThis),this.ngZone=b(de)}handle(t){return new xt(r=>{let s=new AbortController;return this.doRequest(t,s.signal,r).then(bs,o=>r.error(new Bt({error:o}))),()=>s.abort()})}doRequest(t,r,s){return je(this,null,function*(){let o=this.createRequestInit(t),a;try{let F=this.ngZone.runOutsideAngular(()=>this.fetchImpl(t.urlWithParams,_({signal:r},o)));_d(F),s.next({type:$t.Sent}),a=yield F}catch(F){s.error(new Bt({error:F,status:F.status??0,statusText:F.statusText,url:t.urlWithParams,headers:F.headers}));return}let l=new Je(a.headers),c=a.statusText,h=Ma(a)??t.urlWithParams,f=a.status,m=null;if(t.reportProgress&&s.next(new Jn({headers:l,status:f,statusText:c,url:h})),a.body){let F=a.headers.get("content-length"),z=[],S=a.body.getReader(),L=0,ne,ae,W=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>je(this,null,function*(){for(;;){let{done:u,value:d}=yield S.read();if(u)break;if(z.push(d),L+=d.length,t.reportProgress){ae=t.responseType==="text"?(ae??"")+(ne??=new TextDecoder).decode(d,{stream:!0}):void 0;let p=()=>s.next({type:$t.DownloadProgress,total:F?+F:void 0,loaded:L,partialText:ae});W?W.run(p):p()}}}));let B=this.concatChunks(z,L);try{let u=a.headers.get("Content-Type")??"";m=this.parseBody(t,B,u)}catch(u){s.error(new Bt({error:u,headers:new Je(a.headers),status:a.status,statusText:a.statusText,url:Ma(a)??t.urlWithParams}));return}}f===0&&(f=m?Pa:0),f>=200&&f<300?(s.next(new nn({body:m,headers:l,status:f,statusText:c,url:h})),s.complete()):s.error(new Bt({error:m,headers:l,status:f,statusText:c,url:h}))})}parseBody(t,r,s){switch(t.responseType){case"json":let o=new TextDecoder().decode(r).replace(gd,"");return o===""?null:JSON.parse(o);case"text":return new TextDecoder().decode(r);case"blob":return new Blob([r],{type:s});case"arraybuffer":return r.buffer}}createRequestInit(t){let r={},s=t.withCredentials?"include":void 0;if(t.headers.forEach((o,a)=>r[o]=a.join(",")),t.headers.has("Accept")||(r.Accept="application/json, text/plain, */*"),!t.headers.has("Content-Type")){let o=t.detectContentTypeHeader();o!==null&&(r["Content-Type"]=o)}return{body:t.serializeBody(),method:t.method,headers:r,credentials:s}}concatChunks(t,r){let s=new Uint8Array(r),o=0;for(let a of t)s.set(a,o),o+=a.length;return s}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=w({token:e,factory:e.\u0275fac});let i=e;return i})(),_s=class{};function bs(){}function _d(i){i.then(bs,bs)}function bd(i,e){return e(i)}function wd(i,e,n){return(t,r)=>rt(n,()=>e(t,s=>i(s,r)))}var La=new U(""),Cd=new U(""),Dd=new U("",{providedIn:"root",factory:()=>!0});var Oa=(()=>{let e=class e extends en{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null,this.pendingTasks=b(Vn),this.contributeToStability=b(Dd)}handle(t){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(La),...this.injector.get(Cd,[])]));this.chain=r.reduceRight((s,o)=>wd(s,o,this.injector),bd)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(t,s=>this.backend.handle(s)).pipe(pi(()=>this.pendingTasks.remove(r)))}else return this.chain(t,r=>this.backend.handle(r))}};e.\u0275fac=function(r){return new(r||e)(C(Xn),C(gi))},e.\u0275prov=w({token:e,factory:e.\u0275fac});let i=e;return i})();var Sd=/^\)\]\}',?\n/;function Ed(i){return"responseURL"in i&&i.responseURL?i.responseURL:/^X-Request-URL:/m.test(i.getAllResponseHeaders())?i.getResponseHeader("X-Request-URL"):null}var Na=(()=>{let e=class e{constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new X(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?Ce(r.\u0275loadImpl()):k(null)).pipe($e(()=>new xt(o=>{let a=r.build();if(a.open(t.method,t.urlWithParams),t.withCredentials&&(a.withCredentials=!0),t.headers.forEach((S,L)=>a.setRequestHeader(S,L.join(","))),t.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){let S=t.detectContentTypeHeader();S!==null&&a.setRequestHeader("Content-Type",S)}if(t.responseType){let S=t.responseType.toLowerCase();a.responseType=S!=="json"?S:"text"}let l=t.serializeBody(),c=null,h=()=>{if(c!==null)return c;let S=a.statusText||"OK",L=new Je(a.getAllResponseHeaders()),ne=Ed(a)||t.url;return c=new Jn({headers:L,status:a.status,statusText:S,url:ne}),c},f=()=>{let{headers:S,status:L,statusText:ne,url:ae}=h(),W=null;L!==md&&(W=typeof a.response>"u"?a.responseText:a.response),L===0&&(L=W?Pa:0);let B=L>=200&&L<300;if(t.responseType==="json"&&typeof W=="string"){let u=W;W=W.replace(Sd,"");try{W=W!==""?JSON.parse(W):null}catch(d){W=u,B&&(B=!1,W={error:d,text:W})}}B?(o.next(new nn({body:W,headers:S,status:L,statusText:ne,url:ae||void 0})),o.complete()):o.error(new Bt({error:W,headers:S,status:L,statusText:ne,url:ae||void 0}))},m=S=>{let{url:L}=h(),ne=new Bt({error:S,status:a.status||0,statusText:a.statusText||"Unknown Error",url:L||void 0});o.error(ne)},T=!1,F=S=>{T||(o.next(h()),T=!0);let L={type:$t.DownloadProgress,loaded:S.loaded};S.lengthComputable&&(L.total=S.total),t.responseType==="text"&&a.responseText&&(L.partialText=a.responseText),o.next(L)},z=S=>{let L={type:$t.UploadProgress,loaded:S.loaded};S.lengthComputable&&(L.total=S.total),o.next(L)};return a.addEventListener("load",f),a.addEventListener("error",m),a.addEventListener("timeout",m),a.addEventListener("abort",m),t.reportProgress&&(a.addEventListener("progress",F),l!==null&&a.upload&&a.upload.addEventListener("progress",z)),a.send(l),o.next({type:$t.Sent}),()=>{a.removeEventListener("error",m),a.removeEventListener("abort",m),a.removeEventListener("load",f),a.removeEventListener("timeout",m),t.reportProgress&&(a.removeEventListener("progress",F),l!==null&&a.upload&&a.upload.removeEventListener("progress",z)),a.readyState!==a.DONE&&a.abort()}})))}};e.\u0275fac=function(r){return new(r||e)(C(Zn))},e.\u0275prov=w({token:e,factory:e.\u0275fac});let i=e;return i})(),ja=new U(""),Id="XSRF-TOKEN",Rd=new U("",{providedIn:"root",factory:()=>Id}),Td="X-XSRF-TOKEN",kd=new U("",{providedIn:"root",factory:()=>Td}),er=class{},Ad=(()=>{let e=class e{constructor(t,r,s){this.doc=t,this.platform=r,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=qn(t,this.cookieName),this.lastCookieString=t),this.lastToken}};e.\u0275fac=function(r){return new(r||e)(C(Z),C(wt),C(Rd))},e.\u0275prov=w({token:e,factory:e.\u0275fac});let i=e;return i})();function xd(i,e){let n=i.url.toLowerCase();if(!b(ja)||i.method==="GET"||i.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(i);let t=b(er).getToken(),r=b(kd);return t!=null&&!i.headers.has(r)&&(i=i.clone({headers:i.headers.set(r,t)})),e(i)}function Va(...i){let e=[ws,Na,Oa,{provide:en,useExisting:Oa},{provide:Xn,useFactory:()=>b(yd,{optional:!0})??b(Na)},{provide:La,useValue:xd,multi:!0},{provide:ja,useValue:!0},{provide:er,useClass:Ad}];for(let n of i)e.push(...n.\u0275providers);return Qt(e)}var Ss=class extends Da{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Es=class i extends Ss{static makeCurrent(){Ca(new i)}onAndCancel(e,n,t){return e.addEventListener(n,t),()=>{e.removeEventListener(n,t)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=Fd();return n==null?null:Pd(n)}resetBaseElement(){rn=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return qn(document.cookie,e)}},rn=null;function Fd(){return rn=rn||document.querySelector("base"),rn?rn.getAttribute("href"):null}function Pd(i){return new URL(i,document.baseURI).pathname}var Ld=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=w({token:e,factory:e.\u0275fac});let i=e;return i})(),tr=new U(""),za=(()=>{let e=class e{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(s=>{s.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,s){return this._findPluginFor(r).addEventListener(t,r,s)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new X(5101,!1);return this._eventNameToPlugin.set(t,r),r}};e.\u0275fac=function(r){return new(r||e)(C(tr),C(de))},e.\u0275prov=w({token:e,factory:e.\u0275fac});let i=e;return i})(),sn=class{constructor(e){this._doc=e}},Cs="ng-app-id",$a=(()=>{let e=class e{constructor(t,r,s,o={}){this.doc=t,this.appId=r,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Yn(o),this.resetHostNodes()}addStyles(t){for(let r of t)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(t){for(let r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(let r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(let r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){let r=this.styleRef;r.get(t)?.elements?.forEach(s=>s.remove()),r.delete(t)}collectServerRenderedStyles(){let t=this.doc.head?.querySelectorAll(`style[${Cs}="${this.appId}"]`);if(t?.length){let r=new Map;return t.forEach(s=>{s.textContent!=null&&r.set(s.textContent,s)}),r}return null}changeUsageCount(t,r){let s=this.styleRef;if(s.has(t)){let o=s.get(t);return o.usage+=r,o.usage}return s.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){let s=this.styleNodesInDOM,o=s?.get(r);if(o?.parentNode===t)return s.delete(r),o.removeAttribute(Cs),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=r,this.platformIsServer&&a.setAttribute(Cs,this.appId),t.appendChild(a),a}}addStyleToHost(t,r){let s=this.getStyleElement(t,r),o=this.styleRef,a=o.get(r)?.elements;a?a.push(s):o.set(r,{elements:[s],usage:1})}resetHostNodes(){let t=this.hostNodes;t.clear(),t.add(this.doc.head)}};e.\u0275fac=function(r){return new(r||e)(C(Z),C(Un),C(Ki,8),C(wt))},e.\u0275prov=w({token:e,factory:e.\u0275fac});let i=e;return i})(),Ds={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Ts=/%COMP%/g,Wa="%COMP%",jd=`_nghost-${Wa}`,Vd=`_ngcontent-${Wa}`,Ud=!0,Bd=new U("",{providedIn:"root",factory:()=>Ud});function zd(i){return Vd.replace(Ts,i)}function $d(i){return jd.replace(Ts,i)}function Ha(i,e){return e.map(n=>n.replace(Ts,i))}var ir=(()=>{let e=class e{constructor(t,r,s,o,a,l,c,h=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=l,this.ngZone=c,this.nonce=h,this.rendererByCompId=new Map,this.platformIsServer=Yn(l),this.defaultRenderer=new on(t,a,c,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===qi.ShadowDom&&(r=H(_({},r),{encapsulation:qi.Emulated}));let s=this.getOrCreateRenderer(t,r);return s instanceof nr?s.applyToHost(t):s instanceof an&&s.applyStyles(),s}getOrCreateRenderer(t,r){let s=this.rendererByCompId,o=s.get(r.id);if(!o){let a=this.doc,l=this.ngZone,c=this.eventManager,h=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,m=this.platformIsServer;switch(r.encapsulation){case qi.Emulated:o=new nr(c,h,r,this.appId,f,a,l,m);break;case qi.ShadowDom:return new Is(c,h,t,r,a,l,this.nonce,m);default:o=new an(c,h,r,f,a,l,m);break}s.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(r){return new(r||e)(C(za),C($a),C(Un),C(Bd),C(Z),C(wt),C(de),C(Ki))},e.\u0275prov=w({token:e,factory:e.\u0275fac});let i=e;return i})(),on=class{constructor(e,n,t,r){this.eventManager=e,this.doc=n,this.ngZone=t,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Ds[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(Ua(e)?e.content:e).appendChild(n)}insertBefore(e,n,t){e&&(Ua(e)?e.content:e).insertBefore(n,t)}removeChild(e,n){n.remove()}selectRootElement(e,n){let t=typeof e=="string"?this.doc.querySelector(e):e;if(!t)throw new X(-5104,!1);return n||(t.textContent=""),t}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,t,r){if(r){n=r+":"+n;let s=Ds[r];s?e.setAttributeNS(s,n,t):e.setAttribute(n,t)}else e.setAttribute(n,t)}removeAttribute(e,n,t){if(t){let r=Ds[t];r?e.removeAttributeNS(r,n):e.removeAttribute(`${t}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,t,r){r&(Yi.DashCase|Yi.Important)?e.style.setProperty(n,t,r&Yi.Important?"important":""):e.style[n]=t}removeStyle(e,n,t){t&Yi.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,t){e!=null&&(e[n]=t)}setValue(e,n){e.nodeValue=n}listen(e,n,t){if(typeof e=="string"&&(e=bi().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(t))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function Ua(i){return i.tagName==="TEMPLATE"&&i.content!==void 0}var Is=class extends on{constructor(e,n,t,r,s,o,a,l){super(e,s,o,l),this.sharedStylesHost=n,this.hostEl=t,this.shadowRoot=t.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let c=Ha(r.id,r.styles);for(let h of c){let f=document.createElement("style");a&&f.setAttribute("nonce",a),f.textContent=h,this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,t){return super.insertBefore(this.nodeOrShadowRoot(e),n,t)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},an=class extends on{constructor(e,n,t,r,s,o,a,l){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=r,this.styles=l?Ha(l,t.styles):t.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},nr=class extends an{constructor(e,n,t,r,s,o,a,l){let c=r+"-"+t.id;super(e,n,t,s,o,a,l,c),this.contentAttr=zd(c),this.hostAttr=$d(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let t=super.createElement(e,n);return super.setAttribute(t,this.contentAttr,""),t}},Wd=(()=>{let e=class e extends sn{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,s){return t.addEventListener(r,s,!1),()=>this.removeEventListener(t,r,s)}removeEventListener(t,r,s){return t.removeEventListener(r,s)}};e.\u0275fac=function(r){return new(r||e)(C(Z))},e.\u0275prov=w({token:e,factory:e.\u0275fac});let i=e;return i})(),Hd=(()=>{let e=class e extends sn{constructor(t){super(t),this.delegate=b(wa,{optional:!0})}supports(t){return this.delegate?this.delegate.supports(t):!1}addEventListener(t,r,s){return this.delegate.addEventListener(t,r,s)}removeEventListener(t,r,s){return this.delegate.removeEventListener(t,r,s)}};e.\u0275fac=function(r){return new(r||e)(C(Z))},e.\u0275prov=w({token:e,factory:e.\u0275fac});let i=e;return i})(),Ba=["alt","control","meta","shift"],Gd={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},qd={alt:i=>i.altKey,control:i=>i.ctrlKey,meta:i=>i.metaKey,shift:i=>i.shiftKey},Kd=(()=>{let e=class e extends sn{constructor(t){super(t)}supports(t){return e.parseEventName(t)!=null}addEventListener(t,r,s){let o=e.parseEventName(r),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>bi().onAndCancel(t,o.domEventName,a))}static parseEventName(t){let r=t.toLowerCase().split("."),s=r.shift();if(r.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(r.pop()),a="",l=r.indexOf("code");if(l>-1&&(r.splice(l,1),a="code."),Ba.forEach(h=>{let f=r.indexOf(h);f>-1&&(r.splice(f,1),a+=h+".")}),a+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=s,c.fullKey=a,c}static matchEventFullKeyCode(t,r){let s=Gd[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(s=t.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),Ba.forEach(a=>{if(a!==s){let l=qd[a];l(t)&&(o+=a+".")}}),o+=s,o===r)}static eventCallback(t,r,s){return o=>{e.matchEventFullKeyCode(o,t)&&s.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}};e.\u0275fac=function(r){return new(r||e)(C(Z))},e.\u0275prov=w({token:e,factory:e.\u0275fac});let i=e;return i})();function Ga(i,e){return ba(_({rootComponent:i},Yd(e)))}function Yd(i){return{appProviders:[...eu,...i?.providers??[]],platformProviders:Jd}}function Zd(){Es.makeCurrent()}function Qd(){return new cs}function Xd(){return fa(document),document}var Jd=[{provide:wt,useValue:Ia},{provide:pa,useValue:Zd,multi:!0},{provide:Z,useFactory:Xd,deps:[]}];var eu=[{provide:ha,useValue:"root"},{provide:cs,useFactory:Qd,deps:[]},{provide:tr,useClass:Wd,multi:!0,deps:[Z,de,wt]},{provide:tr,useClass:Kd,multi:!0,deps:[Z]},{provide:tr,useClass:Hd,multi:!0},ir,$a,za,{provide:yi,useExisting:ir},{provide:Zn,useClass:Ld,deps:[]},[]];var qa=(()=>{let e=class e{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}};e.\u0275fac=function(r){return new(r||e)(C(Z))},e.\u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var ic=(()=>{let e=class e{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}};e.\u0275fac=function(r){return new(r||e)(g(Bn),g(Ee))},e.\u0275dir=P({type:e});let i=e;return i})(),iu=(()=>{let e=class e extends ic{};e.\u0275fac=(()=>{let t;return function(s){return(t||(t=Ae(e)))(s||e)}})(),e.\u0275dir=P({type:e,features:[Y]});let i=e;return i})(),Fs=new U("");var nu={provide:Fs,useExisting:mi(()=>Si),multi:!0};function ru(){let i=bi()?bi().getUserAgent():"";return/android (\d+)/.test(i.toLowerCase())}var su=new U(""),Si=(()=>{let e=class e extends ic{constructor(t,r,s){super(t,r),this._compositionMode=s,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!ru())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}};e.\u0275fac=function(r){return new(r||e)(g(Bn),g(Ee),g(su,8))},e.\u0275dir=P({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,s){r&1&&ue("input",function(a){return s._handleInput(a.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(a){return s._compositionEnd(a.target.value)})},features:[ve([nu]),Y]});let i=e;return i})();function Wt(i){return i==null||(typeof i=="string"||Array.isArray(i))&&i.length===0}function nc(i){return i!=null&&typeof i.length=="number"}var fr=new U(""),Ps=new U(""),ou=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,ii=class{static min(e){return au(e)}static max(e){return cu(e)}static required(e){return lu(e)}static requiredTrue(e){return du(e)}static email(e){return uu(e)}static minLength(e){return hu(e)}static maxLength(e){return rc(e)}static pattern(e){return fu(e)}static nullValidator(e){return sr(e)}static compose(e){return dc(e)}static composeAsync(e){return hc(e)}};function au(i){return e=>{if(Wt(e.value)||Wt(i))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<i?{min:{min:i,actual:e.value}}:null}}function cu(i){return e=>{if(Wt(e.value)||Wt(i))return null;let n=parseFloat(e.value);return!isNaN(n)&&n>i?{max:{max:i,actual:e.value}}:null}}function lu(i){return Wt(i.value)?{required:!0}:null}function du(i){return i.value===!0?null:{required:!0}}function uu(i){return Wt(i.value)||ou.test(i.value)?null:{email:!0}}function hu(i){return e=>Wt(e.value)||!nc(e.value)?null:e.value.length<i?{minlength:{requiredLength:i,actualLength:e.value.length}}:null}function rc(i){return e=>nc(e.value)&&e.value.length>i?{maxlength:{requiredLength:i,actualLength:e.value.length}}:null}function fu(i){if(!i)return sr;let e,n;return typeof i=="string"?(n="",i.charAt(0)!=="^"&&(n+="^"),n+=i,i.charAt(i.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=i.toString(),e=i),t=>{if(Wt(t.value))return null;let r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}function sr(i){return null}function sc(i){return i!=null}function oc(i){return Wn(i)?Ce(i):i}function ac(i){let e={};return i.forEach(n=>{e=n!=null?_(_({},e),n):e}),Object.keys(e).length===0?null:e}function cc(i,e){return e.map(n=>n(i))}function pu(i){return!i.validate}function lc(i){return i.map(e=>pu(e)?e:n=>e.validate(n))}function dc(i){if(!i)return null;let e=i.filter(sc);return e.length==0?null:function(n){return ac(cc(n,e))}}function uc(i){return i!=null?dc(lc(i)):null}function hc(i){if(!i)return null;let e=i.filter(sc);return e.length==0?null:function(n){let t=cc(n,e).map(oc);return na(t).pipe(V(ac))}}function fc(i){return i!=null?hc(lc(i)):null}function Ka(i,e){return i===null?[e]:Array.isArray(i)?[...i,e]:[i,e]}function pc(i){return i._rawValidators}function mc(i){return i._rawAsyncValidators}function ks(i){return i?Array.isArray(i)?i:[i]:[]}function or(i,e){return Array.isArray(i)?i.includes(e):i===e}function Ya(i,e){let n=ks(e);return ks(i).forEach(r=>{or(n,r)||n.push(r)}),n}function Za(i,e){return ks(e).filter(n=>!or(i,n))}var ar=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=uc(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=fc(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},ni=class extends ar{get formDirective(){return null}get path(){return null}},ri=class extends ar{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},cr=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},mu={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Fm=H(_({},mu),{"[class.ng-submitted]":"isSubmitted"}),pr=(()=>{let e=class e extends cr{constructor(t){super(t)}};e.\u0275fac=function(r){return new(r||e)(g(ri,2))},e.\u0275dir=P({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,s){r&2&&Dt("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[Y]});let i=e;return i})(),gc=(()=>{let e=class e extends cr{constructor(t){super(t)}};e.\u0275fac=function(r){return new(r||e)(g(ni,10))},e.\u0275dir=P({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,s){r&2&&Dt("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)("ng-submitted",s.isSubmitted)},features:[Y]});let i=e;return i})();var cn="VALID",rr="INVALID",wi="PENDING",ln="DISABLED",Ht=class{},lr=class extends Ht{constructor(e,n){super(),this.value=e,this.source=n}},dn=class extends Ht{constructor(e,n){super(),this.pristine=e,this.source=n}},un=class extends Ht{constructor(e,n){super(),this.touched=e,this.source=n}},Ci=class extends Ht{constructor(e,n){super(),this.status=e,this.source=n}},As=class extends Ht{constructor(e){super(),this.source=e}},xs=class extends Ht{constructor(e){super(),this.source=e}};function Ls(i){return(mr(i)?i.validators:i)||null}function gu(i){return Array.isArray(i)?uc(i):i||null}function js(i,e){return(mr(e)?e.asyncValidators:i)||null}function vu(i){return Array.isArray(i)?fc(i):i||null}function mr(i){return i!=null&&!Array.isArray(i)&&typeof i=="object"}function vc(i,e,n){let t=i.controls;if(!(e?Object.keys(t):t).length)throw new X(1e3,"");if(!t[n])throw new X(1001,"")}function yc(i,e,n){i._forEachChild((t,r)=>{if(n[r]===void 0)throw new X(1002,"")})}var Di=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=Xi(()=>this.statusReactive()),this.statusReactive=Zi(void 0),this._pristine=Xi(()=>this.pristineReactive()),this.pristineReactive=Zi(!0),this._touched=Xi(()=>this.touchedReactive()),this.touchedReactive=Zi(!1),this._events=new pe,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Ut(this.statusReactive)}set status(e){Ut(()=>this.statusReactive.set(e))}get valid(){return this.status===cn}get invalid(){return this.status===rr}get pending(){return this.status==wi}get disabled(){return this.status===ln}get enabled(){return this.status!==ln}get pristine(){return Ut(this.pristineReactive)}set pristine(e){Ut(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return Ut(this.touchedReactive)}set touched(e){Ut(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Ya(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Ya(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Za(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Za(e,this._rawAsyncValidators))}hasValidator(e){return or(this._rawValidators,e)}hasAsyncValidator(e){return or(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let t=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(H(_({},e),{sourceControl:t})),n&&e.emitEvent!==!1&&this._events.next(new un(!0,t))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let t=e.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:t})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t),n&&e.emitEvent!==!1&&this._events.next(new un(!1,t))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let t=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(H(_({},e),{sourceControl:t})),n&&e.emitEvent!==!1&&this._events.next(new dn(!1,t))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let t=e.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),n&&e.emitEvent!==!1&&this._events.next(new dn(!0,t))}markAsPending(e={}){this.status=wi;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Ci(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(H(_({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=ln,this.errors=null,this._forEachChild(r=>{r.disable(H(_({},e),{onlySelf:!0}))}),this._updateValue();let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new lr(this.value,t)),this._events.next(new Ci(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(H(_({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=cn,this._forEachChild(t=>{t.enable(H(_({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(H(_({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let t=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===cn||this.status===wi)&&this._runAsyncValidator(t,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new lr(this.value,n)),this._events.next(new Ci(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(H(_({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ln:cn}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=wi,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let t=oc(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((t,r)=>t&&t._find(r),this)}getError(e,n){let t=n?this.get(n):this;return t&&t.errors?t.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,t){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||t)&&this._events.next(new Ci(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,t)}_initObservables(){this.valueChanges=new xe,this.statusChanges=new xe}_calculateStatus(){return this._allControlsDisabled()?ln:this.errors?rr:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(wi)?wi:this._anyControlsHaveStatus(rr)?rr:cn}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let t=!this._anyControlsDirty(),r=this.pristine!==t;this.pristine=t,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),r&&this._events.next(new dn(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new un(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){mr(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=gu(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=vu(this._rawAsyncValidators)}},dr=class extends Di{constructor(e,n,t){super(Ls(n),js(t,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,t={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){yc(this,!0,e),Object.keys(e).forEach(t=>{vc(this,!0,t),this.controls[t].setValue(e[t],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(t=>{let r=this.controls[t];r&&r.patchValue(e[t],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((t,r)=>{t.reset(e?e[r]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,t)=>(e[t]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,t)=>t._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let t=this.controls[n];t&&e(t,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,t]of Object.entries(this.controls))if(this.contains(n)&&e(t))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,t,r)=>((t.enabled||this.disabled)&&(n[r]=t.value),n))}_reduceChildren(e,n){let t=e;return this._forEachChild((r,s)=>{t=n(t,r,s)}),t}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Ms=class extends dr{};var gr=new U("CallSetDisabledState",{providedIn:"root",factory:()=>vr}),vr="always";function _c(i,e){return[...e.path,i]}function Os(i,e,n=vr){Vs(i,e),e.valueAccessor.writeValue(i.value),(i.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(i.disabled),_u(i,e),wu(i,e),bu(i,e),yu(i,e)}function Qa(i,e,n=!0){let t=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(t),e.valueAccessor.registerOnTouched(t)),hr(i,e),i&&(e._invokeOnDestroyCallbacks(),i._registerOnCollectionChange(()=>{}))}function ur(i,e){i.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function yu(i,e){if(e.valueAccessor.setDisabledState){let n=t=>{e.valueAccessor.setDisabledState(t)};i.registerOnDisabledChange(n),e._registerOnDestroy(()=>{i._unregisterOnDisabledChange(n)})}}function Vs(i,e){let n=pc(i);e.validator!==null?i.setValidators(Ka(n,e.validator)):typeof n=="function"&&i.setValidators([n]);let t=mc(i);e.asyncValidator!==null?i.setAsyncValidators(Ka(t,e.asyncValidator)):typeof t=="function"&&i.setAsyncValidators([t]);let r=()=>i.updateValueAndValidity();ur(e._rawValidators,r),ur(e._rawAsyncValidators,r)}function hr(i,e){let n=!1;if(i!==null){if(e.validator!==null){let r=pc(i);if(Array.isArray(r)&&r.length>0){let s=r.filter(o=>o!==e.validator);s.length!==r.length&&(n=!0,i.setValidators(s))}}if(e.asyncValidator!==null){let r=mc(i);if(Array.isArray(r)&&r.length>0){let s=r.filter(o=>o!==e.asyncValidator);s.length!==r.length&&(n=!0,i.setAsyncValidators(s))}}}let t=()=>{};return ur(e._rawValidators,t),ur(e._rawAsyncValidators,t),n}function _u(i,e){e.valueAccessor.registerOnChange(n=>{i._pendingValue=n,i._pendingChange=!0,i._pendingDirty=!0,i.updateOn==="change"&&bc(i,e)})}function bu(i,e){e.valueAccessor.registerOnTouched(()=>{i._pendingTouched=!0,i.updateOn==="blur"&&i._pendingChange&&bc(i,e),i.updateOn!=="submit"&&i.markAsTouched()})}function bc(i,e){i._pendingDirty&&i.markAsDirty(),i.setValue(i._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1}function wu(i,e){let n=(t,r)=>{e.valueAccessor.writeValue(t),r&&e.viewToModelUpdate(t)};i.registerOnChange(n),e._registerOnDestroy(()=>{i._unregisterOnChange(n)})}function Cu(i,e){i==null,Vs(i,e)}function Du(i,e){return hr(i,e)}function wc(i,e){if(!i.hasOwnProperty("model"))return!1;let n=i.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function Su(i){return Object.getPrototypeOf(i.constructor)===iu}function Eu(i,e){i._syncPendingControls(),e.forEach(n=>{let t=n.control;t.updateOn==="submit"&&t._pendingChange&&(n.viewToModelUpdate(t._pendingValue),t._pendingChange=!1)})}function Cc(i,e){if(!e)return null;Array.isArray(e);let n,t,r;return e.forEach(s=>{s.constructor===Si?n=s:Su(s)?t=s:r=s}),r||t||n||null}function Iu(i,e){let n=i.indexOf(e);n>-1&&i.splice(n,1)}function Xa(i,e){let n=i.indexOf(e);n>-1&&i.splice(n,1)}function Ja(i){return typeof i=="object"&&i!==null&&Object.keys(i).length===2&&"value"in i&&"disabled"in i}var hn=class extends Di{constructor(e=null,n,t){super(Ls(n),js(t,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),mr(n)&&(n.nonNullable||n.initialValueIsDefault)&&(Ja(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(t=>t(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Xa(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Xa(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){Ja(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var Ru=i=>i instanceof hn;var Tu={provide:ri,useExisting:mi(()=>Us)},ec=Promise.resolve(),Us=(()=>{let e=class e extends ri{constructor(t,r,s,o,a,l){super(),this._changeDetectorRef=a,this.callSetDisabledState=l,this.control=new hn,this._registered=!1,this.name="",this.update=new xe,this._parent=t,this._setValidators(r),this._setAsyncValidators(s),this.valueAccessor=Cc(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),wc(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Os(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){ec.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,s=r!==0&&ze(r);ec.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?_c(t,this._parent):[t]}};e.\u0275fac=function(r){return new(r||e)(g(ni,9),g(fr,10),g(Ps,10),g(Fs,10),g(St,8),g(gr,8))},e.\u0275dir=P({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[ve([Tu]),Y,We]});let i=e;return i})(),Dc=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=P({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let i=e;return i})();var Sc=new U("");var ku={provide:ni,useExisting:mi(()=>Bs)},Bs=(()=>{let e=class e extends ni{get submitted(){return Ut(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}constructor(t,r,s){super(),this.callSetDisabledState=s,this._submitted=Xi(()=>this._submittedReactive()),this._submittedReactive=Zi(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new xe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(hr(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let r=this.form.get(t.path);return Os(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){Qa(t.control||null,t,!1),Iu(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this._submittedReactive.set(!0),Eu(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new As(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this._submittedReactive.set(!1),this.form._events.next(new xs(this.form))}_updateDomValue(){this.directives.forEach(t=>{let r=t.control,s=this.form.get(t.path);r!==s&&(Qa(r||null,t),Ru(s)&&(Os(s,t,this.callSetDisabledState),t.control=s))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let r=this.form.get(t.path);Cu(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let r=this.form.get(t.path);r&&Du(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Vs(this.form,this),this._oldForm&&hr(this._oldForm,this)}_checkFormPresent(){this.form}};e.\u0275fac=function(r){return new(r||e)(g(fr,10),g(Ps,10),g(gr,8))},e.\u0275dir=P({type:e,selectors:[["","formGroup",""]],hostBindings:function(r,s){r&1&&ue("submit",function(a){return s.onSubmit(a)})("reset",function(){return s.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[ve([ku]),Y,We]});let i=e;return i})();var Au={provide:ri,useExisting:mi(()=>zs)},zs=(()=>{let e=class e extends ri{set isDisabled(t){}constructor(t,r,s,o,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new xe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(s),this.valueAccessor=Cc(this,o)}ngOnChanges(t){this._added||this._setUpControl(),wc(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return _c(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(r){return new(r||e)(g(ni,13),g(fr,10),g(Ps,10),g(Fs,10),g(Sc,8))},e.\u0275dir=P({type:e,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[ve([Au]),Y,We]});let i=e;return i})();function xu(i){return typeof i=="number"?i:parseInt(i,10)}var Mu=(()=>{let e=class e{constructor(){this._validator=sr}ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):sr,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=P({type:e,features:[We]});let i=e;return i})();var Ou={provide:fr,useExisting:mi(()=>$s),multi:!0},$s=(()=>{let e=class e extends Mu{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=t=>xu(t),this.createValidator=t=>rc(t)}};e.\u0275fac=(()=>{let t;return function(s){return(t||(t=Ae(e)))(s||e)}})(),e.\u0275dir=P({type:e,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(r,s){r&2&&Qi("maxlength",s._enabled?s.maxlength:null)},inputs:{maxlength:"maxlength"},features:[ve([Ou]),Y]});let i=e;return i})();var Ec=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ge({type:e}),e.\u0275inj=me({});let i=e;return i})(),Ns=class extends Di{constructor(e,n,t){super(Ls(n),js(t,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,t={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:t.emitEvent})}removeAt(e,n={}){let t=this._adjustIndex(e);t<0&&(t=0),this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),n&&(this.controls.splice(r,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){yc(this,!1,e),e.forEach((t,r)=>{vc(this,!1,r),this.at(r).setValue(t,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(e.forEach((t,r)=>{this.at(r)&&this.at(r).patchValue(t,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((t,r)=>{t.reset(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,t)=>t._syncPendingControls()?!0:n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,t)=>{e(n,t)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function tc(i){return!!i&&(i.asyncValidators!==void 0||i.validators!==void 0||i.updateOn!==void 0)}var Ic=(()=>{let e=class e{constructor(){this.useNonNullable=!1}get nonNullable(){let t=new e;return t.useNonNullable=!0,t}group(t,r=null){let s=this._reduceControls(t),o={};return tc(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new dr(s,o)}record(t,r=null){let s=this._reduceControls(t);return new Ms(s,r)}control(t,r,s){let o={};return this.useNonNullable?(tc(r)?o=r:(o.validators=r,o.asyncValidators=s),new hn(t,H(_({},o),{nonNullable:!0}))):new hn(t,r,s)}array(t,r,s){let o=t.map(a=>this._createControl(a));return new Ns(o,r,s)}_reduceControls(t){let r={};return Object.keys(t).forEach(s=>{r[s]=this._createControl(t[s])}),r}_createControl(t){if(t instanceof hn)return t;if(t instanceof Di)return t;if(Array.isArray(t)){let r=t[0],s=t.length>1?t[1]:null,o=t.length>2?t[2]:null;return this.control(r,s,o)}else return this.control(t)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var yr=(()=>{let e=class e{static withConfig(t){return{ngModule:e,providers:[{provide:gr,useValue:t.callSetDisabledState??vr}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ge({type:e}),e.\u0275inj=me({imports:[Ec]});let i=e;return i})(),Rc=(()=>{let e=class e{static withConfig(t){return{ngModule:e,providers:[{provide:Sc,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:gr,useValue:t.callSetDisabledState??vr}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ge({type:e}),e.\u0275inj=me({imports:[Ec]});let i=e;return i})();var j="primary",kn=Symbol("RouteTitle"),Ks=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Ai(i){return new Ks(i)}function Nu(i,e,n){let t=n.path.split("/");if(t.length>i.length||n.pathMatch==="full"&&(e.hasChildren()||t.length<i.length))return null;let r={};for(let s=0;s<t.length;s++){let o=t[s],a=i[s];if(o[0]===":")r[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:i.slice(0,t.length),posParams:r}}function Fu(i,e){if(i.length!==e.length)return!1;for(let n=0;n<i.length;++n)if(!pt(i[n],e[n]))return!1;return!0}function pt(i,e){let n=i?Ys(i):void 0,t=e?Ys(e):void 0;if(!n||!t||n.length!=t.length)return!1;let r;for(let s=0;s<n.length;s++)if(r=n[s],!Pc(i[r],e[r]))return!1;return!0}function Ys(i){return[...Object.keys(i),...Object.getOwnPropertySymbols(i)]}function Pc(i,e){if(Array.isArray(i)&&Array.isArray(e)){if(i.length!==e.length)return!1;let n=[...i].sort(),t=[...e].sort();return n.every((r,s)=>t[s]===r)}else return i===e}function Lc(i){return i.length>0?i[i.length-1]:null}function Gt(i){return fi(i)?i:Wn(i)?Ce(Promise.resolve(i)):k(i)}var Pu={exact:Vc,subset:Uc},jc={exact:Lu,subset:ju,ignored:()=>!0};function kc(i,e,n){return Pu[n.paths](i.root,e.root,n.matrixParams)&&jc[n.queryParams](i.queryParams,e.queryParams)&&!(n.fragment==="exact"&&i.fragment!==e.fragment)}function Lu(i,e){return pt(i,e)}function Vc(i,e,n){if(!oi(i.segments,e.segments)||!wr(i.segments,e.segments,n)||i.numberOfChildren!==e.numberOfChildren)return!1;for(let t in e.children)if(!i.children[t]||!Vc(i.children[t],e.children[t],n))return!1;return!0}function ju(i,e){return Object.keys(e).length<=Object.keys(i).length&&Object.keys(e).every(n=>Pc(i[n],e[n]))}function Uc(i,e,n){return Bc(i,e,e.segments,n)}function Bc(i,e,n,t){if(i.segments.length>n.length){let r=i.segments.slice(0,n.length);return!(!oi(r,n)||e.hasChildren()||!wr(r,n,t))}else if(i.segments.length===n.length){if(!oi(i.segments,n)||!wr(i.segments,n,t))return!1;for(let r in e.children)if(!i.children[r]||!Uc(i.children[r],e.children[r],t))return!1;return!0}else{let r=n.slice(0,i.segments.length),s=n.slice(i.segments.length);return!oi(i.segments,r)||!wr(i.segments,r,t)||!i.children[j]?!1:Bc(i.children[j],e,s,t)}}function wr(i,e,n){return e.every((t,r)=>jc[n](i[r].parameters,t.parameters))}var It=class{constructor(e=new G([],{}),n={},t=null){this.root=e,this.queryParams=n,this.fragment=t}get queryParamMap(){return this._queryParamMap??=Ai(this.queryParams),this._queryParamMap}toString(){return Bu.serialize(this)}},G=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(t=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Cr(this)}},si=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Ai(this.parameters),this._parameterMap}toString(){return $c(this)}};function Vu(i,e){return oi(i,e)&&i.every((n,t)=>pt(n.parameters,e[t].parameters))}function oi(i,e){return i.length!==e.length?!1:i.every((n,t)=>n.path===e[t].path)}function Uu(i,e){let n=[];return Object.entries(i.children).forEach(([t,r])=>{t===j&&(n=n.concat(e(r,t)))}),Object.entries(i.children).forEach(([t,r])=>{t!==j&&(n=n.concat(e(r,t)))}),n}var Co=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=w({token:e,factory:()=>new _n,providedIn:"root"});let i=e;return i})(),_n=class{parse(e){let n=new Qs(e);return new It(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${fn(e.root,!0)}`,t=Wu(e.queryParams),r=typeof e.fragment=="string"?`#${zu(e.fragment)}`:"";return`${n}${t}${r}`}},Bu=new _n;function Cr(i){return i.segments.map(e=>$c(e)).join("/")}function fn(i,e){if(!i.hasChildren())return Cr(i);if(e){let n=i.children[j]?fn(i.children[j],!1):"",t=[];return Object.entries(i.children).forEach(([r,s])=>{r!==j&&t.push(`${r}:${fn(s,!1)}`)}),t.length>0?`${n}(${t.join("//")})`:n}else{let n=Uu(i,(t,r)=>r===j?[fn(i.children[j],!1)]:[`${r}:${fn(t,!1)}`]);return Object.keys(i.children).length===1&&i.children[j]!=null?`${Cr(i)}/${n[0]}`:`${Cr(i)}/(${n.join("//")})`}}function zc(i){return encodeURIComponent(i).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function _r(i){return zc(i).replace(/%3B/gi,";")}function zu(i){return encodeURI(i)}function Zs(i){return zc(i).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Dr(i){return decodeURIComponent(i)}function Ac(i){return Dr(i.replace(/\+/g,"%20"))}function $c(i){return`${Zs(i.path)}${$u(i.parameters)}`}function $u(i){return Object.entries(i).map(([e,n])=>`;${Zs(e)}=${Zs(n)}`).join("")}function Wu(i){let e=Object.entries(i).map(([n,t])=>Array.isArray(t)?t.map(r=>`${_r(n)}=${_r(r)}`).join("&"):`${_r(n)}=${_r(t)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var Hu=/^[^\/()?;#]+/;function Ws(i){let e=i.match(Hu);return e?e[0]:""}var Gu=/^[^\/()?;=#]+/;function qu(i){let e=i.match(Gu);return e?e[0]:""}var Ku=/^[^=?&#]+/;function Yu(i){let e=i.match(Ku);return e?e[0]:""}var Zu=/^[^&#]+/;function Qu(i){let e=i.match(Zu);return e?e[0]:""}var Qs=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new G([],{}):new G([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let t={};return this.peekStartsWith("(")&&(t=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(t[j]=new G(e,n)),t}parseSegment(){let e=Ws(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new X(4009,!1);return this.capture(e),new si(Dr(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=qu(this.remaining);if(!n)return;this.capture(n);let t="";if(this.consumeOptional("=")){let r=Ws(this.remaining);r&&(t=r,this.capture(t))}e[Dr(n)]=Dr(t)}parseQueryParam(e){let n=Yu(this.remaining);if(!n)return;this.capture(n);let t="";if(this.consumeOptional("=")){let o=Qu(this.remaining);o&&(t=o,this.capture(t))}let r=Ac(n),s=Ac(t);if(e.hasOwnProperty(r)){let o=e[r];Array.isArray(o)||(o=[o],e[r]=o),o.push(s)}else e[r]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let t=Ws(this.remaining),r=this.remaining[t.length];if(r!=="/"&&r!==")"&&r!==";")throw new X(4010,!1);let s;t.indexOf(":")>-1?(s=t.slice(0,t.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=j);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[j]:new G([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new X(4011,!1)}};function Wc(i){return i.segments.length>0?new G([],{[j]:i}):i}function Hc(i){let e={};for(let[t,r]of Object.entries(i.children)){let s=Hc(r);if(t===j&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[t]=s)}let n=new G(i.segments,e);return Xu(n)}function Xu(i){if(i.numberOfChildren===1&&i.children[j]){let e=i.children[j];return new G(i.segments.concat(e.segments),e.children)}return i}function bn(i){return i instanceof It}function Ju(i,e,n=null,t=null){let r=Gc(i);return qc(r,e,n,t)}function Gc(i){let e;function n(s){let o={};for(let l of s.children){let c=n(l);o[l.outlet]=c}let a=new G(s.url,o);return s===i&&(e=a),a}let t=n(i.root),r=Wc(t);return e??r}function qc(i,e,n,t){let r=i;for(;r.parent;)r=r.parent;if(e.length===0)return Hs(r,r,r,n,t);let s=eh(e);if(s.toRoot())return Hs(r,r,new G([],{}),n,t);let o=th(s,r,i),a=o.processChildren?gn(o.segmentGroup,o.index,s.commands):Yc(o.segmentGroup,o.index,s.commands);return Hs(r,o.segmentGroup,a,n,t)}function Sr(i){return typeof i=="object"&&i!=null&&!i.outlets&&!i.segmentPath}function wn(i){return typeof i=="object"&&i!=null&&i.outlets}function Hs(i,e,n,t,r){let s={};t&&Object.entries(t).forEach(([l,c])=>{s[l]=Array.isArray(c)?c.map(h=>`${h}`):`${c}`});let o;i===e?o=n:o=Kc(i,e,n);let a=Wc(Hc(o));return new It(a,s,r)}function Kc(i,e,n){let t={};return Object.entries(i.children).forEach(([r,s])=>{s===e?t[r]=n:t[r]=Kc(s,e,n)}),new G(i.segments,t)}var Er=class{constructor(e,n,t){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=t,e&&t.length>0&&Sr(t[0]))throw new X(4003,!1);let r=t.find(wn);if(r&&r!==Lc(t))throw new X(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function eh(i){if(typeof i[0]=="string"&&i.length===1&&i[0]==="/")return new Er(!0,0,i);let e=0,n=!1,t=i.reduce((r,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...r,{outlets:a}]}if(s.segmentPath)return[...r,s.segmentPath]}return typeof s!="string"?[...r,s]:o===0?(s.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?n=!0:a===".."?e++:a!=""&&r.push(a))}),r):[...r,s]},[]);return new Er(n,e,t)}var Ri=class{constructor(e,n,t){this.segmentGroup=e,this.processChildren=n,this.index=t}};function th(i,e,n){if(i.isAbsolute)return new Ri(e,!0,0);if(!n)return new Ri(e,!1,NaN);if(n.parent===null)return new Ri(n,!0,0);let t=Sr(i.commands[0])?0:1,r=n.segments.length-1+t;return ih(n,r,i.numberOfDoubleDots)}function ih(i,e,n){let t=i,r=e,s=n;for(;s>r;){if(s-=r,t=t.parent,!t)throw new X(4005,!1);r=t.segments.length}return new Ri(t,!1,r-s)}function nh(i){return wn(i[0])?i[0].outlets:{[j]:i}}function Yc(i,e,n){if(i??=new G([],{}),i.segments.length===0&&i.hasChildren())return gn(i,e,n);let t=rh(i,e,n),r=n.slice(t.commandIndex);if(t.match&&t.pathIndex<i.segments.length){let s=new G(i.segments.slice(0,t.pathIndex),{});return s.children[j]=new G(i.segments.slice(t.pathIndex),i.children),gn(s,0,r)}else return t.match&&r.length===0?new G(i.segments,{}):t.match&&!i.hasChildren()?Xs(i,e,n):t.match?gn(i,0,r):Xs(i,e,n)}function gn(i,e,n){if(n.length===0)return new G(i.segments,{});{let t=nh(n),r={};if(Object.keys(t).some(s=>s!==j)&&i.children[j]&&i.numberOfChildren===1&&i.children[j].segments.length===0){let s=gn(i.children[j],e,n);return new G(i.segments,s.children)}return Object.entries(t).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(r[s]=Yc(i.children[s],e,o))}),Object.entries(i.children).forEach(([s,o])=>{t[s]===void 0&&(r[s]=o)}),new G(i.segments,r)}}function rh(i,e,n){let t=0,r=e,s={match:!1,pathIndex:0,commandIndex:0};for(;r<i.segments.length;){if(t>=n.length)return s;let o=i.segments[r],a=n[t];if(wn(a))break;let l=`${a}`,c=t<n.length-1?n[t+1]:null;if(r>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!Mc(l,c,o))return s;t+=2}else{if(!Mc(l,{},o))return s;t++}r++}return{match:!0,pathIndex:r,commandIndex:t}}function Xs(i,e,n){let t=i.segments.slice(0,e),r=0;for(;r<n.length;){let s=n[r];if(wn(s)){let l=sh(s.outlets);return new G(t,l)}if(r===0&&Sr(n[0])){let l=i.segments[e];t.push(new si(l.path,xc(n[0]))),r++;continue}let o=wn(s)?s.outlets[j]:`${s}`,a=r<n.length-1?n[r+1]:null;o&&a&&Sr(a)?(t.push(new si(o,xc(a))),r+=2):(t.push(new si(o,{})),r++)}return new G(t,{})}function sh(i){let e={};return Object.entries(i).forEach(([n,t])=>{typeof t=="string"&&(t=[t]),t!==null&&(e[n]=Xs(new G([],{}),0,t))}),e}function xc(i){let e={};return Object.entries(i).forEach(([n,t])=>e[n]=`${t}`),e}function Mc(i,e,n){return i==n.path&&pt(e,n.parameters)}var vn="imperative",Oe=function(i){return i[i.NavigationStart=0]="NavigationStart",i[i.NavigationEnd=1]="NavigationEnd",i[i.NavigationCancel=2]="NavigationCancel",i[i.NavigationError=3]="NavigationError",i[i.RoutesRecognized=4]="RoutesRecognized",i[i.ResolveStart=5]="ResolveStart",i[i.ResolveEnd=6]="ResolveEnd",i[i.GuardsCheckStart=7]="GuardsCheckStart",i[i.GuardsCheckEnd=8]="GuardsCheckEnd",i[i.RouteConfigLoadStart=9]="RouteConfigLoadStart",i[i.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",i[i.ChildActivationStart=11]="ChildActivationStart",i[i.ChildActivationEnd=12]="ChildActivationEnd",i[i.ActivationStart=13]="ActivationStart",i[i.ActivationEnd=14]="ActivationEnd",i[i.Scroll=15]="Scroll",i[i.NavigationSkipped=16]="NavigationSkipped",i}(Oe||{}),et=class{constructor(e,n){this.id=e,this.url=n}},Cn=class extends et{constructor(e,n,t="imperative",r=null){super(e,n),this.type=Oe.NavigationStart,this.navigationTrigger=t,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},ai=class extends et{constructor(e,n,t){super(e,n),this.urlAfterRedirects=t,this.type=Oe.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Ge=function(i){return i[i.Redirect=0]="Redirect",i[i.SupersededByNewNavigation=1]="SupersededByNewNavigation",i[i.NoDataFromResolver=2]="NoDataFromResolver",i[i.GuardRejected=3]="GuardRejected",i}(Ge||{}),Js=function(i){return i[i.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",i[i.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",i}(Js||{}),Et=class extends et{constructor(e,n,t,r){super(e,n),this.reason=t,this.code=r,this.type=Oe.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},ci=class extends et{constructor(e,n,t,r){super(e,n),this.reason=t,this.code=r,this.type=Oe.NavigationSkipped}},Dn=class extends et{constructor(e,n,t,r){super(e,n),this.error=t,this.target=r,this.type=Oe.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Ir=class extends et{constructor(e,n,t,r){super(e,n),this.urlAfterRedirects=t,this.state=r,this.type=Oe.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},eo=class extends et{constructor(e,n,t,r){super(e,n),this.urlAfterRedirects=t,this.state=r,this.type=Oe.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},to=class extends et{constructor(e,n,t,r,s){super(e,n),this.urlAfterRedirects=t,this.state=r,this.shouldActivate=s,this.type=Oe.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},io=class extends et{constructor(e,n,t,r){super(e,n),this.urlAfterRedirects=t,this.state=r,this.type=Oe.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},no=class extends et{constructor(e,n,t,r){super(e,n),this.urlAfterRedirects=t,this.state=r,this.type=Oe.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ro=class{constructor(e){this.route=e,this.type=Oe.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},so=class{constructor(e){this.route=e,this.type=Oe.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},oo=class{constructor(e){this.snapshot=e,this.type=Oe.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ao=class{constructor(e){this.snapshot=e,this.type=Oe.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},co=class{constructor(e){this.snapshot=e,this.type=Oe.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},lo=class{constructor(e){this.snapshot=e,this.type=Oe.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Sn=class{},xi=class{constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function oh(i,e){return i.providers&&!i._injector&&(i._injector=va(i.providers,e,`Route: ${i.path}`)),i._injector??e}function ot(i){return i.outlet||j}function ah(i,e){let n=i.filter(t=>ot(t)===e);return n.push(...i.filter(t=>ot(t)!==e)),n}function An(i){if(!i)return null;if(i.routeConfig?._injector)return i.routeConfig._injector;for(let e=i.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var uo=class{get injector(){return An(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new Or(this.rootInjector),this.attachRef=null}},Or=(()=>{let e=class e{constructor(t){this.rootInjector=t,this.contexts=new Map}onChildOutletCreated(t,r){let s=this.getOrCreateContext(t);s.outlet=r,this.contexts.set(t,s)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new uo(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}};e.\u0275fac=function(r){return new(r||e)(C(gi))},e.\u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),Rr=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=ho(e,this._root);return n?n.children.map(t=>t.value):[]}firstChild(e){let n=ho(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=fo(e,this._root);return n.length<2?[]:n[n.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return fo(e,this._root).map(n=>n.value)}};function ho(i,e){if(i===e.value)return e;for(let n of e.children){let t=ho(i,n);if(t)return t}return null}function fo(i,e){if(i===e.value)return[e];for(let n of e.children){let t=fo(i,n);if(t.length)return t.unshift(e),t}return[]}var He=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Ii(i){let e={};return i&&i.children.forEach(n=>e[n.value.outlet]=n),e}var Tr=class extends Rr{constructor(e,n){super(e),this.snapshot=n,Do(this,e)}toString(){return this.snapshot.toString()}};function Zc(i){let e=ch(i),n=new Te([new si("",{})]),t=new Te({}),r=new Te({}),s=new Te({}),o=new Te(""),a=new Mi(n,t,s,o,r,j,i,e.root);return a.snapshot=e.root,new Tr(new He(a,[]),e)}function ch(i){let e={},n={},t={},r="",s=new Ti([],e,t,r,n,j,i,null,{});return new Ar("",new He(s,[]))}var Mi=class{constructor(e,n,t,r,s,o,a,l){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=t,this.fragmentSubject=r,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(V(c=>c[kn]))??k(void 0),this.url=e,this.params=n,this.queryParams=t,this.fragment=r,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(V(e=>Ai(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(V(e=>Ai(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function kr(i,e,n="emptyOnly"){let t,{routeConfig:r}=i;return e!==null&&(n==="always"||r?.path===""||!e.component&&!e.routeConfig?.loadComponent)?t={params:_(_({},e.params),i.params),data:_(_({},e.data),i.data),resolve:_(_(_(_({},i.data),e.data),r?.data),i._resolvedData)}:t={params:_({},i.params),data:_({},i.data),resolve:_(_({},i.data),i._resolvedData??{})},r&&Xc(r)&&(t.resolve[kn]=r.title),t}var Ti=class{get title(){return this.data?.[kn]}constructor(e,n,t,r,s,o,a,l,c){this.url=e,this.params=n,this.queryParams=t,this.fragment=r,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ai(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ai(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(t=>t.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Ar=class extends Rr{constructor(e,n){super(n),this.url=e,Do(this,n)}toString(){return Qc(this._root)}};function Do(i,e){e.value._routerState=i,e.children.forEach(n=>Do(i,n))}function Qc(i){let e=i.children.length>0?` { ${i.children.map(Qc).join(", ")} } `:"";return`${i.value}${e}`}function Gs(i){if(i.snapshot){let e=i.snapshot,n=i._futureSnapshot;i.snapshot=n,pt(e.queryParams,n.queryParams)||i.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&i.fragmentSubject.next(n.fragment),pt(e.params,n.params)||i.paramsSubject.next(n.params),Fu(e.url,n.url)||i.urlSubject.next(n.url),pt(e.data,n.data)||i.dataSubject.next(n.data)}else i.snapshot=i._futureSnapshot,i.dataSubject.next(i._futureSnapshot.data)}function po(i,e){let n=pt(i.params,e.params)&&Vu(i.url,e.url),t=!i.parent!=!e.parent;return n&&!t&&(!i.parent||po(i.parent,e.parent))}function Xc(i){return typeof i.title=="string"||i.title===null}var So=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=j,this.activateEvents=new xe,this.deactivateEvents=new xe,this.attachEvents=new xe,this.detachEvents=new xe,this.parentContexts=b(Or),this.location=b(Ct),this.changeDetector=b(St),this.inputBinder=b(Eo,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:s}=t.name;if(r)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new X(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new X(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new X(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new X(4013,!1);this._activatedRoute=t;let s=this.location,a=t.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,c=new mo(t,l,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=P({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[We]});let i=e;return i})(),mo=class i{__ngOutletInjector(e){return new i(this.route,this.childContexts,e)}constructor(e,n,t){this.route=e,this.childContexts=n,this.parent=t}get(e,n){return e===Mi?this.route:e===Or?this.childContexts:this.parent.get(e,n)}},Eo=new U("");function lh(i,e,n){let t=En(i,e._root,n?n._root:void 0);return new Tr(t,e)}function En(i,e,n){if(n&&i.shouldReuseRoute(e.value,n.value.snapshot)){let t=n.value;t._futureSnapshot=e.value;let r=dh(i,e,n);return new He(t,r)}else{if(i.shouldAttach(e.value)){let s=i.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>En(i,a)),o}}let t=uh(e.value),r=e.children.map(s=>En(i,s));return new He(t,r)}}function dh(i,e,n){return e.children.map(t=>{for(let r of n.children)if(i.shouldReuseRoute(t.value,r.value.snapshot))return En(i,t,r);return En(i,t)})}function uh(i){return new Mi(new Te(i.url),new Te(i.params),new Te(i.queryParams),new Te(i.fragment),new Te(i.data),i.outlet,i.component,i)}var In=class{constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},Jc="ngNavigationCancelingError";function xr(i,e){let{redirectTo:n,navigationBehaviorOptions:t}=bn(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=el(!1,Ge.Redirect);return r.url=n,r.navigationBehaviorOptions=t,r}function el(i,e){let n=new Error(`NavigationCancelingError: ${i||""}`);return n[Jc]=!0,n.cancellationCode=e,n}function hh(i){return tl(i)&&bn(i.url)}function tl(i){return!!i&&i[Jc]}var fh=(i,e,n,t)=>V(r=>(new go(e,r.targetRouterState,r.currentRouterState,n,t).activate(i),r)),go=class{constructor(e,n,t,r,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=t,this.forwardEvent=r,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,t=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,t,e),Gs(this.futureState.root),this.activateChildRoutes(n,t,e)}deactivateChildRoutes(e,n,t){let r=Ii(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,r[o],t),delete r[o]}),Object.values(r).forEach(s=>{this.deactivateRouteAndItsChildren(s,t)})}deactivateRoutes(e,n,t){let r=e.value,s=n?n.value:null;if(r===s)if(r.component){let o=t.getContext(r.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,t);else s&&this.deactivateRouteAndItsChildren(n,t)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let t=n.getContext(e.value.outlet),r=t&&e.value.component?t.children:n,s=Ii(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,r);if(t&&t.outlet){let o=t.outlet.detach(),a=t.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let t=n.getContext(e.value.outlet),r=t&&e.value.component?t.children:n,s=Ii(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,r);t&&(t.outlet&&(t.outlet.deactivate(),t.children.onOutletDeactivated()),t.attachRef=null,t.route=null)}activateChildRoutes(e,n,t){let r=Ii(n);e.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],t),this.forwardEvent(new lo(s.value.snapshot))}),e.children.length&&this.forwardEvent(new ao(e.value.snapshot))}activateRoutes(e,n,t){let r=e.value,s=n?n.value:null;if(Gs(r),r===s)if(r.component){let o=t.getOrCreateContext(r.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,t);else if(r.component){let o=t.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Gs(a.route.value),this.activateChildRoutes(e,null,o.children)}else o.attachRef=null,o.route=r,o.outlet&&o.outlet.activateWith(r,o.injector),this.activateChildRoutes(e,null,o.children)}else this.activateChildRoutes(e,null,t)}},Mr=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},ki=class{constructor(e,n){this.component=e,this.route=n}};function ph(i,e,n){let t=i._root,r=e?e._root:null;return pn(t,r,n,[t.value])}function mh(i){let e=i.routeConfig?i.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:i,guards:e}}function Ni(i,e){let n=Symbol(),t=e.get(i,n);return t===n?typeof i=="function"&&!da(i)?i:e.get(i):t}function pn(i,e,n,t,r={canDeactivateChecks:[],canActivateChecks:[]}){let s=Ii(e);return i.children.forEach(o=>{gh(o,s[o.value.outlet],n,t.concat([o.value]),r),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>yn(a,n.getContext(o),r)),r}function gh(i,e,n,t,r={canDeactivateChecks:[],canActivateChecks:[]}){let s=i.value,o=e?e.value:null,a=n?n.getContext(i.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let l=vh(o,s,s.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new Mr(t)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?pn(i,e,a?a.children:null,t,r):pn(i,e,n,t,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new ki(a.outlet.component,o))}else o&&yn(e,a,r),r.canActivateChecks.push(new Mr(t)),s.component?pn(i,null,a?a.children:null,t,r):pn(i,null,n,t,r);return r}function vh(i,e,n){if(typeof n=="function")return n(i,e);switch(n){case"pathParamsChange":return!oi(i.url,e.url);case"pathParamsOrQueryParamsChange":return!oi(i.url,e.url)||!pt(i.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!po(i,e)||!pt(i.queryParams,e.queryParams);case"paramsChange":default:return!po(i,e)}}function yn(i,e,n){let t=Ii(i),r=i.value;Object.entries(t).forEach(([s,o])=>{r.component?e?yn(o,e.children.getContext(s),n):yn(o,null,n):yn(o,e,n)}),r.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new ki(e.outlet.component,r)):n.canDeactivateChecks.push(new ki(null,r)):n.canDeactivateChecks.push(new ki(null,r))}function xn(i){return typeof i=="function"}function yh(i){return typeof i=="boolean"}function _h(i){return i&&xn(i.canLoad)}function bh(i){return i&&xn(i.canActivate)}function wh(i){return i&&xn(i.canActivateChild)}function Ch(i){return i&&xn(i.canDeactivate)}function Dh(i){return i&&xn(i.canMatch)}function il(i){return i instanceof ia||i?.name==="EmptyError"}var br=Symbol("INITIAL_VALUE");function Oi(){return $e(i=>Hi(i.map(e=>e.pipe(Ot(1),Gi(br)))).pipe(V(e=>{for(let n of e)if(n!==!0){if(n===br)return br;if(n===!1||Sh(n))return n}return!0}),yt(e=>e!==br),Ot(1)))}function Sh(i){return bn(i)||i instanceof In}function Eh(i,e){return Le(n=>{let{targetSnapshot:t,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?k(H(_({},n),{guardsResult:!0})):Ih(o,t,r,i).pipe(Le(a=>a&&yh(a)?Rh(t,s,i,e):k(a)),V(a=>H(_({},n),{guardsResult:a})))})}function Ih(i,e,n,t){return Ce(i).pipe(Le(r=>Mh(r.component,r.route,n,e,t)),Nt(r=>r!==!0,!0))}function Rh(i,e,n,t){return Ce(e).pipe(Zt(r=>jn(kh(r.route.parent,t),Th(r.route,t),xh(i,r.path,n),Ah(i,r.route,n))),Nt(r=>r!==!0,!0))}function Th(i,e){return i!==null&&e&&e(new co(i)),k(!0)}function kh(i,e){return i!==null&&e&&e(new oo(i)),k(!0)}function Ah(i,e,n){let t=e.routeConfig?e.routeConfig.canActivate:null;if(!t||t.length===0)return k(!0);let r=t.map(s=>is(()=>{let o=An(e)??n,a=Ni(s,o),l=bh(a)?a.canActivate(e,i):rt(o,()=>a(e,i));return Gt(l).pipe(Nt())}));return k(r).pipe(Oi())}function xh(i,e,n){let t=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>mh(o)).filter(o=>o!==null).map(o=>is(()=>{let a=o.guards.map(l=>{let c=An(o.node)??n,h=Ni(l,c),f=wh(h)?h.canActivateChild(t,i):rt(c,()=>h(t,i));return Gt(f).pipe(Nt())});return k(a).pipe(Oi())}));return k(s).pipe(Oi())}function Mh(i,e,n,t,r){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return k(!0);let o=s.map(a=>{let l=An(e)??r,c=Ni(a,l),h=Ch(c)?c.canDeactivate(i,e,n,t):rt(l,()=>c(i,e,n,t));return Gt(h).pipe(Nt())});return k(o).pipe(Oi())}function Oh(i,e,n,t){let r=e.canLoad;if(r===void 0||r.length===0)return k(!0);let s=r.map(o=>{let a=Ni(o,i),l=_h(a)?a.canLoad(e,n):rt(i,()=>a(e,n));return Gt(l)});return k(s).pipe(Oi(),nl(t))}function nl(i){return ta(ke(e=>{if(typeof e!="boolean")throw xr(i,e)}),V(e=>e===!0))}function Nh(i,e,n,t){let r=e.canMatch;if(!r||r.length===0)return k(!0);let s=r.map(o=>{let a=Ni(o,i),l=Dh(a)?a.canMatch(e,n):rt(i,()=>a(e,n));return Gt(l)});return k(s).pipe(Oi(),nl(t))}var Rn=class{constructor(e){this.segmentGroup=e||null}},Tn=class extends Error{constructor(e){super(),this.urlTree=e}};function Ei(i){return Wi(new Rn(i))}function Fh(i){return Wi(new X(4e3,!1))}function Ph(i){return Wi(el(!1,Ge.GuardRejected))}var vo=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let t=[],r=n.root;for(;;){if(t=t.concat(r.segments),r.numberOfChildren===0)return k(t);if(r.numberOfChildren>1||!r.children[j])return Fh(`${e.redirectTo}`);r=r.children[j]}}applyRedirectCommands(e,n,t,r,s){if(typeof n!="string"){let a=n,{queryParams:l,fragment:c,routeConfig:h,url:f,outlet:m,params:T,data:F,title:z}=r,S=rt(s,()=>a({params:T,data:F,queryParams:l,fragment:c,routeConfig:h,url:f,outlet:m,title:z}));if(S instanceof It)throw new Tn(S);n=S}let o=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,t);if(n[0]==="/")throw new Tn(o);return o}applyRedirectCreateUrlTree(e,n,t,r){let s=this.createSegmentGroup(e,n.root,t,r);return new It(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let t={};return Object.entries(e).forEach(([r,s])=>{if(typeof s=="string"&&s[0]===":"){let a=s.substring(1);t[r]=n[a]}else t[r]=s}),t}createSegmentGroup(e,n,t,r){let s=this.createSegments(e,n.segments,t,r),o={};return Object.entries(n.children).forEach(([a,l])=>{o[a]=this.createSegmentGroup(e,l,t,r)}),new G(s,o)}createSegments(e,n,t,r){return n.map(s=>s.path[0]===":"?this.findPosParam(e,s,r):this.findOrReturn(s,t))}findPosParam(e,n,t){let r=t[n.path.substring(1)];if(!r)throw new X(4001,!1);return r}findOrReturn(e,n){let t=0;for(let r of n){if(r.path===e.path)return n.splice(t),r;t++}return e}},yo={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Lh(i,e,n,t,r){let s=Io(i,e,n);return s.matched?(t=oh(e,t),Nh(t,e,n,r).pipe(V(o=>o===!0?s:_({},yo)))):k(s)}function Io(i,e,n){if(e.path==="**")return jh(n);if(e.path==="")return e.pathMatch==="full"&&(i.hasChildren()||n.length>0)?_({},yo):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let r=(e.matcher||Nu)(n,i,e);if(!r)return _({},yo);let s={};Object.entries(r.posParams??{}).forEach(([a,l])=>{s[a]=l.path});let o=r.consumed.length>0?_(_({},s),r.consumed[r.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:n.slice(r.consumed.length),parameters:o,positionalParamSegments:r.posParams??{}}}function jh(i){return{matched:!0,parameters:i.length>0?Lc(i).parameters:{},consumedSegments:i,remainingSegments:[],positionalParamSegments:{}}}function Oc(i,e,n,t){return n.length>0&&Bh(i,n,t)?{segmentGroup:new G(e,Uh(t,new G(n,i.children))),slicedSegments:[]}:n.length===0&&zh(i,n,t)?{segmentGroup:new G(i.segments,Vh(i,n,t,i.children)),slicedSegments:n}:{segmentGroup:new G(i.segments,i.children),slicedSegments:n}}function Vh(i,e,n,t){let r={};for(let s of n)if(Nr(i,e,s)&&!t[ot(s)]){let o=new G([],{});r[ot(s)]=o}return _(_({},t),r)}function Uh(i,e){let n={};n[j]=e;for(let t of i)if(t.path===""&&ot(t)!==j){let r=new G([],{});n[ot(t)]=r}return n}function Bh(i,e,n){return n.some(t=>Nr(i,e,t)&&ot(t)!==j)}function zh(i,e,n){return n.some(t=>Nr(i,e,t))}function Nr(i,e,n){return(i.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function $h(i,e,n,t){return ot(i)!==t&&(t===j||!Nr(e,n,i))?!1:Io(e,i,n).matched}function Wh(i,e,n){return e.length===0&&!i.children[n]}var _o=class{};function Hh(i,e,n,t,r,s,o="emptyOnly"){return new bo(i,e,n,t,r,o,s).recognize()}var Gh=31,bo=class{constructor(e,n,t,r,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=t,this.config=r,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new vo(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new X(4002,`'${e.segmentGroup}'`)}recognize(){let e=Oc(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(V(({children:n,rootSnapshot:t})=>{let r=new He(t,n),s=new Ar("",r),o=Ju(t,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(e){let n=new Ti([],Object.freeze({}),Object.freeze(_({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),j,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,j,n).pipe(V(t=>({children:t,rootSnapshot:n})),_t(t=>{if(t instanceof Tn)return this.urlTree=t.urlTree,this.match(t.urlTree.root);throw t instanceof Rn?this.noMatchError(t):t}))}processSegmentGroup(e,n,t,r,s){return t.segments.length===0&&t.hasChildren()?this.processChildren(e,n,t,s):this.processSegment(e,n,t,t.segments,r,!0,s).pipe(V(o=>o instanceof He?[o]:[]))}processChildren(e,n,t,r){let s=[];for(let o of Object.keys(t.children))o==="primary"?s.unshift(o):s.push(o);return Ce(s).pipe(Zt(o=>{let a=t.children[o],l=ah(n,o);return this.processSegmentGroup(e,l,a,o,r)}),ca((o,a)=>(o.push(...a),o)),rs(null),aa(),Le(o=>{if(o===null)return Ei(t);let a=rl(o);return qh(a),k(a)}))}processSegment(e,n,t,r,s,o,a){return Ce(n).pipe(Zt(l=>this.processSegmentAgainstRoute(l._injector??e,n,l,t,r,s,o,a).pipe(_t(c=>{if(c instanceof Rn)return k(null);throw c}))),Nt(l=>!!l),_t(l=>{if(il(l))return Wh(t,r,s)?k(new _o):Ei(t);throw l}))}processSegmentAgainstRoute(e,n,t,r,s,o,a,l){return $h(t,r,s,o)?t.redirectTo===void 0?this.matchSegmentAgainstRoute(e,r,t,s,o,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,r,n,t,s,o,l):Ei(r):Ei(r)}expandSegmentAgainstRouteUsingRedirect(e,n,t,r,s,o,a){let{matched:l,parameters:c,consumedSegments:h,positionalParamSegments:f,remainingSegments:m}=Io(n,r,s);if(!l)return Ei(n);typeof r.redirectTo=="string"&&r.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>Gh&&(this.allowRedirects=!1));let T=new Ti(s,c,Object.freeze(_({},this.urlTree.queryParams)),this.urlTree.fragment,Nc(r),ot(r),r.component??r._loadedComponent??null,r,Fc(r)),F=kr(T,a,this.paramsInheritanceStrategy);T.params=Object.freeze(F.params),T.data=Object.freeze(F.data);let z=this.applyRedirects.applyRedirectCommands(h,r.redirectTo,f,T,e);return this.applyRedirects.lineralizeSegments(r,z).pipe(Le(S=>this.processSegment(e,t,n,S.concat(m),o,!1,a)))}matchSegmentAgainstRoute(e,n,t,r,s,o){let a=Lh(n,t,r,e,this.urlSerializer);return t.path==="**"&&(n.children={}),a.pipe($e(l=>l.matched?(e=t._injector??e,this.getChildConfig(e,t,r).pipe($e(({routes:c})=>{let h=t._loadedInjector??e,{parameters:f,consumedSegments:m,remainingSegments:T}=l,F=new Ti(m,f,Object.freeze(_({},this.urlTree.queryParams)),this.urlTree.fragment,Nc(t),ot(t),t.component??t._loadedComponent??null,t,Fc(t)),z=kr(F,o,this.paramsInheritanceStrategy);F.params=Object.freeze(z.params),F.data=Object.freeze(z.data);let{segmentGroup:S,slicedSegments:L}=Oc(n,m,T,c);if(L.length===0&&S.hasChildren())return this.processChildren(h,c,S,F).pipe(V(ae=>new He(F,ae)));if(c.length===0&&L.length===0)return k(new He(F,[]));let ne=ot(t)===s;return this.processSegment(h,c,S,L,ne?j:s,!0,F).pipe(V(ae=>new He(F,ae instanceof He?[ae]:[])))}))):Ei(n)))}getChildConfig(e,n,t){return n.children?k({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?k({routes:n._loadedRoutes,injector:n._loadedInjector}):Oh(e,n,t,this.urlSerializer).pipe(Le(r=>r?this.configLoader.loadChildren(e,n).pipe(ke(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):Ph(n))):k({routes:[],injector:e})}};function qh(i){i.sort((e,n)=>e.value.outlet===j?-1:n.value.outlet===j?1:e.value.outlet.localeCompare(n.value.outlet))}function Kh(i){let e=i.value.routeConfig;return e&&e.path===""}function rl(i){let e=[],n=new Set;for(let t of i){if(!Kh(t)){e.push(t);continue}let r=e.find(s=>t.value.routeConfig===s.value.routeConfig);r!==void 0?(r.children.push(...t.children),n.add(r)):e.push(t)}for(let t of n){let r=rl(t.children);e.push(new He(t.value,r))}return e.filter(t=>!n.has(t))}function Nc(i){return i.data||{}}function Fc(i){return i.resolve||{}}function Yh(i,e,n,t,r,s){return Le(o=>Hh(i,e,n,t,o.extractedUrl,r,s).pipe(V(({state:a,tree:l})=>H(_({},o),{targetSnapshot:a,urlAfterRedirects:l}))))}function Zh(i,e){return Le(n=>{let{targetSnapshot:t,guards:{canActivateChecks:r}}=n;if(!r.length)return k(n);let s=new Set(r.map(l=>l.route)),o=new Set;for(let l of s)if(!o.has(l))for(let c of sl(l))o.add(c);let a=0;return Ce(o).pipe(Zt(l=>s.has(l)?Qh(l,t,i,e):(l.data=kr(l,l.parent,i).resolve,k(void 0))),ke(()=>a++),ss(1),Le(l=>a===o.size?k(n):Mt))})}function sl(i){let e=i.children.map(n=>sl(n)).flat();return[i,...e]}function Qh(i,e,n,t){let r=i.routeConfig,s=i._resolve;return r?.title!==void 0&&!Xc(r)&&(s[kn]=r.title),Xh(s,i,e,t).pipe(V(o=>(i._resolvedData=o,i.data=kr(i,i.parent,n).resolve,null)))}function Xh(i,e,n,t){let r=Ys(i);if(r.length===0)return k({});let s={};return Ce(r).pipe(Le(o=>Jh(i[o],e,n,t).pipe(Nt(),ke(a=>{if(a instanceof In)throw xr(new _n,a);s[o]=a}))),ss(1),oa(s),_t(o=>il(o)?Mt:Wi(o)))}function Jh(i,e,n,t){let r=An(e)??t,s=Ni(i,r),o=s.resolve?s.resolve(e,n):rt(r,()=>s(e,n));return Gt(o)}function qs(i){return $e(e=>{let n=i(e);return n?Ce(n).pipe(V(()=>e)):k(e)})}var ol=(()=>{let e=class e{buildTitle(t){let r,s=t.root;for(;s!==void 0;)r=this.getResolvedTitleForRoute(s)??r,s=s.children.find(o=>o.outlet===j);return r}getResolvedTitleForRoute(t){return t.data[kn]}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=w({token:e,factory:()=>b(ef),providedIn:"root"});let i=e;return i})(),ef=(()=>{let e=class e extends ol{constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}};e.\u0275fac=function(r){return new(r||e)(C(qa))},e.\u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),Ro=new U("",{providedIn:"root",factory:()=>({})}),tf=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=_e({type:e,selectors:[["ng-component"]],standalone:!0,features:[be],decls:1,vars:0,template:function(r,s){r&1&&Me(0,"router-outlet")},dependencies:[So],encapsulation:2});let i=e;return i})();function To(i){let e=i.children&&i.children.map(To),n=e?H(_({},i),{children:e}):_({},i);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==j&&(n.component=tf),n}var ko=new U(""),nf=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=b(ms)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return k(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=Gt(t.loadComponent()).pipe(V(al),ke(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),pi(()=>{this.componentLoaders.delete(t)})),s=new $i(r,()=>new pe).pipe(ts());return this.componentLoaders.set(t,s),s}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return k({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=rf(r,this.compiler,t,this.onLoadEndListener).pipe(pi(()=>{this.childrenLoaders.delete(r)})),a=new $i(o,()=>new pe).pipe(ts());return this.childrenLoaders.set(r,a),a}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();function rf(i,e,n,t){return Gt(i.loadChildren()).pipe(V(al),Le(r=>r instanceof ga||Array.isArray(r)?k(r):Ce(e.compileModuleAsync(r))),V(r=>{t&&t(i);let s,o,a=!1;return Array.isArray(r)?(o=r,a=!0):(s=r.create(n).injector,o=s.get(ko,[],{optional:!0,self:!0}).flat()),{routes:o.map(To),injector:s}}))}function sf(i){return i&&typeof i=="object"&&"default"in i}function al(i){return sf(i)?i.default:i}var Ao=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=w({token:e,factory:()=>b(of),providedIn:"root"});let i=e;return i})(),of=(()=>{let e=class e{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),af=new U("");var cf=new U(""),lf=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new pe,this.transitionAbortSubject=new pe,this.configLoader=b(nf),this.environmentInjector=b(gi),this.urlSerializer=b(Co),this.rootContexts=b(Or),this.location=b(Gn),this.inputBindingEnabled=b(Eo,{optional:!0})!==null,this.titleStrategy=b(ol),this.options=b(Ro,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=b(Ao),this.createViewTransition=b(af,{optional:!0}),this.navigationErrorHandler=b(cf,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>k(void 0),this.rootComponentType=null;let t=s=>this.events.next(new ro(s)),r=s=>this.events.next(new so(s));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(H(_(_({},this.transitions.value),t),{id:r}))}setupNavigations(t,r,s){return this.transitions=new Te({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:vn,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(yt(o=>o.id!==0),V(o=>H(_({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),$e(o=>{let a=!1,l=!1;return k(o).pipe($e(c=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Ge.SupersededByNewNavigation),Mt;this.currentTransition=o,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,targetBrowserUrl:typeof c.extras.browserUrl=="string"?this.urlSerializer.parse(c.extras.browserUrl):c.extras.browserUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?H(_({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let h=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),f=c.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!h&&f!=="reload"){let m="";return this.events.next(new ci(c.id,this.urlSerializer.serialize(c.rawUrl),m,Js.IgnoredSameUrlNavigation)),c.resolve(!1),Mt}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return k(c).pipe($e(m=>{let T=this.transitions?.getValue();return this.events.next(new Cn(m.id,this.urlSerializer.serialize(m.extractedUrl),m.source,m.restoredState)),T!==this.transitions?.getValue()?Mt:Promise.resolve(m)}),Yh(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),ke(m=>{o.targetSnapshot=m.targetSnapshot,o.urlAfterRedirects=m.urlAfterRedirects,this.currentNavigation=H(_({},this.currentNavigation),{finalUrl:m.urlAfterRedirects});let T=new Ir(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(T)}));if(h&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:m,extractedUrl:T,source:F,restoredState:z,extras:S}=c,L=new Cn(m,this.urlSerializer.serialize(T),F,z);this.events.next(L);let ne=Zc(this.rootComponentType).snapshot;return this.currentTransition=o=H(_({},c),{targetSnapshot:ne,urlAfterRedirects:T,extras:H(_({},S),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=T,k(o)}else{let m="";return this.events.next(new ci(c.id,this.urlSerializer.serialize(c.extractedUrl),m,Js.IgnoredByUrlHandlingStrategy)),c.resolve(!1),Mt}}),ke(c=>{let h=new eo(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(h)}),V(c=>(this.currentTransition=o=H(_({},c),{guards:ph(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),o)),Eh(this.environmentInjector,c=>this.events.next(c)),ke(c=>{if(o.guardsResult=c.guardsResult,c.guardsResult&&typeof c.guardsResult!="boolean")throw xr(this.urlSerializer,c.guardsResult);let h=new to(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(h)}),yt(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",Ge.GuardRejected),!1)),qs(c=>{if(c.guards.canActivateChecks.length)return k(c).pipe(ke(h=>{let f=new io(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}),$e(h=>{let f=!1;return k(h).pipe(Zh(this.paramsInheritanceStrategy,this.environmentInjector),ke({next:()=>f=!0,complete:()=>{f||this.cancelNavigationTransition(h,"",Ge.NoDataFromResolver)}}))}),ke(h=>{let f=new no(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}))}),qs(c=>{let h=f=>{let m=[];f.routeConfig?.loadComponent&&!f.routeConfig._loadedComponent&&m.push(this.configLoader.loadComponent(f.routeConfig).pipe(ke(T=>{f.component=T}),V(()=>{})));for(let T of f.children)m.push(...h(T));return m};return Hi(h(c.targetSnapshot.root)).pipe(rs(null),Ot(1))}),qs(()=>this.afterPreactivation()),$e(()=>{let{currentSnapshot:c,targetSnapshot:h}=o,f=this.createViewTransition?.(this.environmentInjector,c.root,h.root);return f?Ce(f).pipe(V(()=>o)):k(o)}),V(c=>{let h=lh(t.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o=H(_({},c),{targetRouterState:h}),this.currentNavigation.targetRouterState=h,o}),ke(()=>{this.events.next(new Sn)}),fh(this.rootContexts,t.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),Ot(1),ke({next:c=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ai(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{a=!0}}),bt(this.transitionAbortSubject.pipe(ke(c=>{throw c}))),pi(()=>{!a&&!l&&this.cancelNavigationTransition(o,"",Ge.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),_t(c=>{if(l=!0,tl(c))this.events.next(new Et(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),hh(c)?this.events.next(new xi(c.url,c.navigationBehaviorOptions)):o.resolve(!1);else{let h=new Dn(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0);try{let f=rt(this.environmentInjector,()=>this.navigationErrorHandler?.(h));if(f instanceof In){let{message:m,cancellationCode:T}=xr(this.urlSerializer,f);this.events.next(new Et(o.id,this.urlSerializer.serialize(o.extractedUrl),m,T)),this.events.next(new xi(f.redirectTo,f.navigationBehaviorOptions))}else{this.events.next(h);let m=t.errorHandler(c);o.resolve(!!m)}}catch(f){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(f)}}return Mt}))}))}cancelNavigationTransition(t,r,s){let o=new Et(t.id,this.urlSerializer.serialize(t.extractedUrl),r,s);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();function df(i){return i!==vn}var uf=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=w({token:e,factory:()=>b(hf),providedIn:"root"});let i=e;return i})(),wo=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},hf=(()=>{let e=class e extends wo{};e.\u0275fac=(()=>{let t;return function(s){return(t||(t=Ae(e)))(s||e)}})(),e.\u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),cl=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=w({token:e,factory:()=>b(ff),providedIn:"root"});let i=e;return i})(),ff=(()=>{let e=class e extends cl{constructor(){super(...arguments),this.location=b(Gn),this.urlSerializer=b(Co),this.options=b(Ro,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=b(Ao),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new It,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Zc(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&t(r.url,r.state)})}handleRouterEvent(t,r){if(t instanceof Cn)this.stateMemento=this.createStateMemento();else if(t instanceof ci)this.rawUrlTree=r.initialUrl;else if(t instanceof Ir){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??s,r)}}else t instanceof Sn?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):t instanceof Et&&(t.code===Ge.GuardRejected||t.code===Ge.NoDataFromResolver)?this.restoreHistory(r):t instanceof Dn?this.restoreHistory(r,!0):t instanceof ai&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,r){let s=t instanceof It?this.urlSerializer.serialize(t):t;if(this.location.isCurrentPathEqualTo(s)||r.extras.replaceUrl){let o=this.browserPageId,a=_(_({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(s,"",a)}else{let o=_(_({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===t.finalUrl&&o===0&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}};e.\u0275fac=(()=>{let t;return function(s){return(t||(t=Ae(e)))(s||e)}})(),e.\u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),mn=function(i){return i[i.COMPLETE=0]="COMPLETE",i[i.FAILED=1]="FAILED",i[i.REDIRECTING=2]="REDIRECTING",i}(mn||{});function pf(i,e){i.events.pipe(yt(n=>n instanceof ai||n instanceof Et||n instanceof Dn||n instanceof ci),V(n=>n instanceof ai||n instanceof ci?mn.COMPLETE:(n instanceof Et?n.code===Ge.Redirect||n.code===Ge.SupersededByNewNavigation:!1)?mn.REDIRECTING:mn.FAILED),yt(n=>n!==mn.REDIRECTING),Ot(1)).subscribe(()=>{e()})}function mf(i){throw i}var gf={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},vf={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},mt=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=b($n),this.stateManager=b(cl),this.options=b(Ro,{optional:!0})||{},this.pendingTasks=b(Vn),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=b(lf),this.urlSerializer=b(Co),this.location=b(Gn),this.urlHandlingStrategy=b(Ao),this._events=new pe,this.errorHandler=this.options.errorHandler||mf,this.navigated=!1,this.routeReuseStrategy=b(uf),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=b(ko,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!b(Eo,{optional:!0}),this.eventsSubscription=new es,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Et&&r.code!==Ge.Redirect&&r.code!==Ge.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof ai)this.navigated=!0;else if(r instanceof xi){let a=r.navigationBehaviorOptions,l=this.urlHandlingStrategy.merge(r.url,s.currentRawUrl),c=_({browserUrl:s.extras.browserUrl,info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:s.extras.replaceUrl||this.urlUpdateStrategy==="eager"||df(s.source)},a);this.scheduleNavigation(l,vn,null,c,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}_f(r)&&this._events.next(r)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),vn,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",r)},0)})}navigateToSyncWithBrowser(t,r,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let c=_({},s);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let l=this.parseUrl(t);this.scheduleNavigation(l,r,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(To),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:l,preserveFragment:c}=r,h=c?this.currentUrlTree.fragment:a,f=null;switch(l??this.options.defaultQueryParamsHandling){case"merge":f=_(_({},this.currentUrlTree.queryParams),o);break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=o||null}f!==null&&(f=this.removeEmptyProps(f));let m;try{let T=s?s.snapshot:this.routerState.snapshot.root;m=Gc(T)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),m=this.currentUrlTree.root}return qc(m,t,f,h??null)}navigateByUrl(t,r={skipLocationChange:!1}){let s=bn(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,vn,null,r)}navigate(t,r={skipLocationChange:!1}){return yf(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let s;if(r===!0?s=_({},gf):r===!1?s=_({},vf):s=r,bn(t))return kc(this.currentUrlTree,t,s);let o=this.parseUrl(t);return kc(this.currentUrlTree,o,s)}removeEmptyProps(t){return Object.entries(t).reduce((r,[s,o])=>(o!=null&&(r[s]=o),r),{})}scheduleNavigation(t,r,s,o,a){if(this.disposed)return Promise.resolve(!1);let l,c,h;a?(l=a.resolve,c=a.reject,h=a.promise):h=new Promise((m,T)=>{l=m,c=T});let f=this.pendingTasks.add();return pf(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:l,reject:c,promise:h,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),h.catch(m=>Promise.reject(m))}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();function yf(i){for(let e=0;e<i.length;e++)if(i[e]==null)throw new X(4008,!1)}function _f(i){return!(i instanceof Sn)&&!(i instanceof xi)}var bf=new U("");function ll(i,...e){return Qt([{provide:ko,multi:!0,useValue:i},[],{provide:Mi,useFactory:wf,deps:[mt]},{provide:ps,multi:!0,useFactory:Cf},e.map(n=>n.\u0275providers)])}function wf(i){return i.routerState.root}function Cf(){let i=b(vi);return e=>{let n=i.get(Hn);if(e!==n.components[0])return;let t=i.get(mt),r=i.get(Df);i.get(Sf)===1&&t.initialNavigation(),i.get(Ef,null,os.Optional)?.setUpPreloading(),i.get(bf,null,os.Optional)?.init(),t.resetRootComponentType(n.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var Df=new U("",{factory:()=>new pe}),Sf=new U("",{providedIn:"root",factory:()=>1});var Ef=new U("");var qt=class i{constructor(e){this.http=e}BASE_URL="http://localhost:3000";loginURL=`${this.BASE_URL}/api/authenticate`;submitOTP=`${this.BASE_URL}/api/submitotp`;optionchainURL=`${this.BASE_URL}/data/optionchain`;expiryDatesURL=`${this.BASE_URL}/data/expirydates`;authenticate(e,n){let t={phoneNumber:e,password:n},r=new Je({"Content-Type":"application/json"});return this.http.post(this.loginURL,t,{headers:r})}verifyOtp(e){let n=localStorage.getItem("token"),t=localStorage.getItem("sid"),r=localStorage.getItem("accessToken"),s={otp:e,token:n,sid:t,accessToken:r},o=new Je({"Content-Type":"application/json"});return this.http.post(this.submitOTP,s,{headers:o})}optionchain(e,n){return je(this,null,function*(){let t=localStorage.getItem("token"),r=localStorage.getItem("sid"),s=localStorage.getItem("accessToken");if(!this.isValidSymbol(e))throw console.error("Selected symbol in service is empty or invalid."),new Error("Invalid symbol");if(!t||!r||!s)throw console.error("Missing authentication information."),new Error("Missing authentication information");let o=JSON.stringify({symbol:e,expirydate:n,token:t,sid:r,accessToken:s});try{let a=yield fetch(this.optionchainURL,{method:"POST",headers:{"Content-Type":"application/json"},body:o});if(!a.ok){let c=yield a.text();throw console.error("HTTP error:",a.status,c),new Error(`HTTP error: ${a.status}`)}return yield a.json()}catch(a){throw console.error("Fetch error:",a),a}})}expiryDates(e){return je(this,null,function*(){let n=localStorage.getItem("token"),t=localStorage.getItem("sid"),r=localStorage.getItem("accessToken");if(!this.isValidSymbol(e))return console.error("Selected symbol in service is empty or invalid."),Promise.reject("Invalid symbol");let s=JSON.stringify({symbol:e,token:n,sid:t,accessToken:r});return fetch(this.expiryDatesURL,{method:"POST",headers:{"Content-Type":"application/json"},body:s}).then(o=>o.json())})}isValidSymbol(e){return e!==void 0&&e.trim()!==""}static \u0275fac=function(n){return new(n||i)(C(ws))};static \u0275prov=w({token:i,factory:i.\u0275fac,providedIn:"root"})};var ul=i=>({"is-invalid":i});function If(i,e){i&1&&(y(0,"div",15),A(1," Phone number is required. "),v())}function Rf(i,e){i&1&&(y(0,"div",15),A(1," Password is required. "),v())}function Tf(i,e){if(i&1){let n=Jt();y(0,"form",7),ue("ngSubmit",function(){Ft(n);let r=Be();return Pt(r.onSubmit())}),y(1,"div",8)(2,"label",9),A(3,"Phone Number"),v(),Me(4,"input",10),oe(5,If,2,0,"div",11),v(),y(6,"div",8)(7,"label",12),A(8,"Password"),v(),Me(9,"input",13),oe(10,Rf,2,0,"div",11),v(),y(11,"button",14),A(12,"Login"),v()()}if(i&2){let n=Be();ie("formGroup",n.loginForm),M(4),ie("ngClass",fs(6,ul,n.isInvalid("phoneNumber"))),M(),ie("ngIf",n.isInvalid("phoneNumber")),M(4),ie("ngClass",fs(8,ul,n.isInvalid("password"))),M(),ie("ngIf",n.isInvalid("password")),M(),ie("disabled",n.loginForm.invalid)}}function kf(i,e){if(i&1){let n=Jt();y(0,"input",19),ue("keydown",function(r){let s=Ft(n).index,o=Be(2);return Pt(o.onOtpKeyDown(r,s))})("input",function(r){let s=Ft(n).index,o=Be(2);return Pt(o.onOtpInput(r,s))}),v()}if(i&2){let n=e.$implicit;ie("formControlName",n)}}function Af(i,e){i&1&&(y(0,"div",15),A(1," OTP is required. "),v())}function xf(i,e){if(i&1){let n=Jt();y(0,"form",7),ue("ngSubmit",function(){Ft(n);let r=Be();return Pt(r.onOtpSubmit())}),y(1,"div",8)(2,"label",16),A(3,"Enter OTP"),v(),y(4,"div",17),oe(5,kf,1,1,"input",18),v(),oe(6,Af,2,0,"div",11),v(),y(7,"button",14),A(8,"Verify OTP"),v()()}if(i&2){let n=Be();ie("formGroup",n.otpForm),M(5),ie("ngForOf",n.otpControls),M(),ie("ngIf",n.isInvalid("otp")),M(),ie("disabled",n.otpForm.invalid)}}var Pr=class i{constructor(e,n,t){this.fb=e;this.router=n;this.apiService=t;this.loginForm=this.fb.group({phoneNumber:["",[ii.required,ii.pattern(/^[0-9]{10}$/)]],password:["",ii.required]}),this.otpForm=this.fb.group(this.otpControls.reduce((r,s)=>(r[s]=["",ii.required],r),{}))}loginForm;otpForm;showOtpForm=!1;otpControls=Array(4).fill("").map((e,n)=>`otp${n}`);isInvalid(e){let n=this.loginForm.get(e)||this.otpForm.get(e);return n?.invalid&&(n?.touched||n?.dirty)||!1}ngOnInit(){}onSubmit(){return je(this,null,function*(){if(this.loginForm.valid){let e="+91"+this.loginForm.get("phoneNumber")?.value,n=this.loginForm.get("password")?.value;try{let t=yield this.apiService.authenticate(e,n).toPromise();console.log(t.data),t.success&&(localStorage.removeItem("token"),localStorage.removeItem("sid"),localStorage.removeItem("accessToken"),localStorage.setItem("token",t.token),localStorage.setItem("sid",t.sid),localStorage.setItem("accessToken",t.accessToken),this.showOtpForm=!0,this.loginForm.reset())}catch(t){console.log("Error:",t)}}})}onOtpSubmit(){return je(this,null,function*(){if(this.otpForm.valid){let e=this.otpControls.map(n=>this.otpForm.get(n)?.value).join("");try{let n=yield this.apiService.verifyOtp(e).toPromise();n.success&&(localStorage.setItem("authToken",n.data.token),localStorage.removeItem("sid"),localStorage.setItem("sid",n.data.sid),localStorage.setItem("rid",n.data.rid),console.log("OTP verified successfully"),this.router.navigate(["/home"]))}catch(n){console.log("Error:",n)}}})}onOtpKeyDown(e,n){let t=e.target,r=t.value;if(e.key==="Backspace"&&!r&&n>0){let s=t.parentElement?.children[n-1]||null;s&&s.focus()}}onOtpInput(e,n){let t=e.target;if(t.value&&n<this.otpControls.length-1){let s=t.parentElement?.children[n+1]||null;s&&s.focus()}}static \u0275fac=function(n){return new(n||i)(g(Ic),g(mt),g(qt))};static \u0275cmp=_e({type:i,selectors:[["app-login"]],standalone:!0,features:[be],decls:10,vars:2,consts:[[1,"container","mt-5"],[1,"row","justify-content-center"],[1,"col-md-4"],[1,"card"],[1,"card-header","text-center","bg-primary","text-white"],[1,"card-body"],[3,"formGroup","ngSubmit",4,"ngIf"],[3,"ngSubmit","formGroup"],[1,"mb-3"],["for","phoneNumber",1,"form-label"],["type","text","id","phoneNumber","formControlName","phoneNumber","placeholder","Enter your phone number","maxlength","10",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["for","password",1,"form-label"],["type","password","id","password","formControlName","password","placeholder","Enter your password",1,"form-control",3,"ngClass"],["type","submit",1,"btn","btn-primary","w-100",3,"disabled"],[1,"invalid-feedback"],["for","otp",1,"form-label"],[1,"otp-inputs"],["type","text","class","otp-box form-control","maxlength","1",3,"formControlName","keydown","input",4,"ngFor","ngForOf"],["type","text","maxlength","1",1,"otp-box","form-control",3,"keydown","input","formControlName"]],template:function(n,t){n&1&&(y(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h3"),A(6,"Login"),v()(),y(7,"div",5),oe(8,Tf,13,10,"form",6)(9,xf,9,4,"form",6),v()()()()()),n&2&&(M(8),ie("ngIf",!t.showOtpForm),M(),ie("ngIf",t.showOtpForm))},dependencies:[Rc,Dc,Si,pr,gc,$s,Bs,zs,ti,Sa,Kn,Ea],styles:[".card[_ngcontent-%COMP%]{box-shadow:0 4px 8px #0003}.card-header[_ngcontent-%COMP%]{background:linear-gradient(45deg,#007bff,#00c6ff)}.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(45deg,#007bff,#00c6ff);border:none}.btn-primary[_ngcontent-%COMP%]:disabled{background:#ccc;border:none}.otp-inputs[_ngcontent-%COMP%]{display:flex;gap:10px;justify-content:center}.otp-box[_ngcontent-%COMP%]{width:40px;height:40px;text-align:center;font-size:18px;border:1px solid #ced4da;border-radius:4px;box-sizing:border-box}.otp-box[_ngcontent-%COMP%]:focus{outline:none;border-color:#80bdff;box-shadow:0 0 0 .2rem #268fff40}"]})};var Lr=class i{transform(e){return parseFloat(e)}static \u0275fac=function(n){return new(n||i)};static \u0275pipe=ua({name:"stringToNumber",type:i,pure:!0,standalone:!0})};var Mf=new U("cdk-dir-doc",{providedIn:"root",factory:Of});function Of(){return b(Z)}var Nf=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function Ff(i){let e=i?.toLowerCase()||"";return e==="auto"&&typeof navigator<"u"&&navigator?.language?Nf.test(navigator.language)?"rtl":"ltr":e==="rtl"?"rtl":"ltr"}var hl=(()=>{let e=class e{constructor(t){if(this.value="ltr",this.change=new xe,t){let r=t.body?t.body.dir:null,s=t.documentElement?t.documentElement.dir:null;this.value=Ff(r||s||"ltr")}}ngOnDestroy(){this.change.complete()}};e.\u0275fac=function(r){return new(r||e)(C(Mf,8))},e.\u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var Fi=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ge({type:e}),e.\u0275inj=me({});let i=e;return i})();function jr(i){return i&&typeof i.connect=="function"&&!(i instanceof $i)}var Pi=function(i){return i[i.REPLACED=0]="REPLACED",i[i.INSERTED=1]="INSERTED",i[i.MOVED=2]="MOVED",i[i.REMOVED=3]="REMOVED",i}(Pi||{}),Mn=new U("_ViewRepeater"),Li=class{applyChanges(e,n,t,r,s){e.forEachOperation((o,a,l)=>{let c,h;if(o.previousIndex==null){let f=t(o,a,l);c=n.createEmbeddedView(f.templateRef,f.context,f.index),h=Pi.INSERTED}else l==null?(n.remove(a),h=Pi.REMOVED):(c=n.get(a),n.move(c,l),h=Pi.MOVED);s&&s({context:c?.context,operation:h,record:o})})}detach(){}};var Mo;try{Mo=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Mo=!1}var Rt=(()=>{let e=class e{constructor(t){this._platformId=t,this.isBrowser=this._platformId?Ra(this._platformId):typeof document=="object"&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!!(window.chrome||Mo)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}};e.\u0275fac=function(r){return new(r||e)(C(wt))},e.\u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var On;function Lf(){if(On==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>On=!0}))}finally{On=On||!1}return On}function Oo(i){return Lf()?i:!!i.capture}function fl(i){return i.composedPath?i.composedPath()[0]:i.target}function pl(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function No(i){return Array.isArray(i)?i:[i]}function Fo(i){return i instanceof Ee?i.nativeElement:i}var jf=20,yl=(()=>{let e=class e{constructor(t,r,s){this._platform=t,this._change=new pe,this._changeListener=o=>{this._change.next(o)},this._document=s,r.runOutsideAngular(()=>{if(t.isBrowser){let o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){let t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){let t=this.getViewportScrollPosition(),{width:r,height:s}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+s,right:t.left+r,height:s,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let t=this._document,r=this._getWindow(),s=t.documentElement,o=s.getBoundingClientRect(),a=-o.top||t.body.scrollTop||r.scrollY||s.scrollTop||0,l=-o.left||t.body.scrollLeft||r.scrollX||s.scrollLeft||0;return{top:a,left:l}}change(t=jf){return t>0?this._change.pipe(ra(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}};e.\u0275fac=function(r){return new(r||e)(C(Rt),C(de),C(Z,8))},e.\u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var ml=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ge({type:e}),e.\u0275inj=me({});let i=e;return i})(),_l=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ge({type:e}),e.\u0275inj=me({imports:[Fi,ml,Fi,ml]});let i=e;return i})();var Bf=[[["caption"]],[["colgroup"],["col"]],"*"],zf=["caption","colgroup, col","*"];function $f(i,e){i&1&&ht(0,2)}function Wf(i,e){i&1&&(y(0,"thead",0),Ue(1,1),v(),y(2,"tbody",0),Ue(3,2)(4,3),v(),y(5,"tfoot",0),Ue(6,4),v())}function Hf(i,e){i&1&&Ue(0,1)(1,2)(2,3)(3,4)}var at=new U("CDK_TABLE");var Hr=(()=>{let e=class e{constructor(t){this.template=t}};e.\u0275fac=function(r){return new(r||e)(g(lt))},e.\u0275dir=P({type:e,selectors:[["","cdkCellDef",""]],standalone:!0});let i=e;return i})(),Gr=(()=>{let e=class e{constructor(t){this.template=t}};e.\u0275fac=function(r){return new(r||e)(g(lt))},e.\u0275dir=P({type:e,selectors:[["","cdkHeaderCellDef",""]],standalone:!0});let i=e;return i})(),Cl=(()=>{let e=class e{constructor(t){this.template=t}};e.\u0275fac=function(r){return new(r||e)(g(lt))},e.\u0275dir=P({type:e,selectors:[["","cdkFooterCellDef",""]],standalone:!0});let i=e;return i})(),ji=(()=>{let e=class e{get name(){return this._name}set name(t){this._setNameInput(t)}get sticky(){return this._sticky}set sticky(t){t!==this._sticky&&(this._sticky=t,this._hasStickyChanged=!0)}get stickyEnd(){return this._stickyEnd}set stickyEnd(t){t!==this._stickyEnd&&(this._stickyEnd=t,this._hasStickyChanged=!0)}constructor(t){this._table=t,this._hasStickyChanged=!1,this._sticky=!1,this._stickyEnd=!1}hasStickyChanged(){let t=this._hasStickyChanged;return this.resetStickyChanged(),t}resetStickyChanged(){this._hasStickyChanged=!1}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(t){t&&(this._name=t,this.cssClassFriendlyName=t.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}};e.\u0275fac=function(r){return new(r||e)(g(at,8))},e.\u0275dir=P({type:e,selectors:[["","cdkColumnDef",""]],contentQueries:function(r,s,o){if(r&1&&(ft(o,Hr,5),ft(o,Gr,5),ft(o,Cl,5)),r&2){let a;Qe(a=Xe())&&(s.cell=a.first),Qe(a=Xe())&&(s.headerCell=a.first),Qe(a=Xe())&&(s.footerCell=a.first)}},inputs:{name:[0,"cdkColumnDef","name"],sticky:[2,"sticky","sticky",ze],stickyEnd:[2,"stickyEnd","stickyEnd",ze]},standalone:!0,features:[ve([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:e}]),st]});let i=e;return i})(),Br=class{constructor(e,n){n.nativeElement.classList.add(...e._columnCssClassName)}},Dl=(()=>{let e=class e extends Br{constructor(t,r){super(t,r)}};e.\u0275fac=function(r){return new(r||e)(g(ji),g(Ee))},e.\u0275dir=P({type:e,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],standalone:!0,features:[Y]});let i=e;return i})();var Sl=(()=>{let e=class e extends Br{constructor(t,r){super(t,r);let s=t._table?._getCellRole();s&&r.nativeElement.setAttribute("role",s)}};e.\u0275fac=function(r){return new(r||e)(g(ji),g(Ee))},e.\u0275dir=P({type:e,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],standalone:!0,features:[Y]});let i=e;return i})(),zr=class{constructor(){this.tasks=[],this.endTasks=[]}},$r=new U("_COALESCED_STYLE_SCHEDULER"),Lo=(()=>{let e=class e{constructor(t){this._currentSchedule=null,this._ngZone=b(de)}schedule(t){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(t)}scheduleEnd(t){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(t)}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new zr,this._ngZone.runOutsideAngular(()=>queueMicrotask(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){let t=this._currentSchedule;this._currentSchedule=new zr;for(let r of t.tasks)r();for(let r of t.endTasks)r()}this._currentSchedule=null})))}};e.\u0275fac=function(r){return new(r||e)(C(de))},e.\u0275prov=w({token:e,factory:e.\u0275fac});let i=e;return i})();var jo=(()=>{let e=class e{constructor(t,r){this.template=t,this._differs=r}ngOnChanges(t){if(!this._columnsDiffer){let r=t.columns&&t.columns.currentValue||[];this._columnsDiffer=this._differs.find(r).create(),this._columnsDiffer.diff(r)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(t){return this instanceof Nn?t.headerCell.template:this instanceof Vo?t.footerCell.template:t.cell.template}};e.\u0275fac=function(r){return new(r||e)(g(lt),g(ei))},e.\u0275dir=P({type:e,features:[We]});let i=e;return i})(),Nn=(()=>{let e=class e extends jo{get sticky(){return this._sticky}set sticky(t){t!==this._sticky&&(this._sticky=t,this._hasStickyChanged=!0)}constructor(t,r,s){super(t,r),this._table=s,this._hasStickyChanged=!1,this._sticky=!1}ngOnChanges(t){super.ngOnChanges(t)}hasStickyChanged(){let t=this._hasStickyChanged;return this.resetStickyChanged(),t}resetStickyChanged(){this._hasStickyChanged=!1}};e.\u0275fac=function(r){return new(r||e)(g(lt),g(ei),g(at,8))},e.\u0275dir=P({type:e,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:[0,"cdkHeaderRowDef","columns"],sticky:[2,"cdkHeaderRowDefSticky","sticky",ze]},standalone:!0,features:[st,Y,We]});let i=e;return i})(),Vo=(()=>{let e=class e extends jo{get sticky(){return this._sticky}set sticky(t){t!==this._sticky&&(this._sticky=t,this._hasStickyChanged=!0)}constructor(t,r,s){super(t,r),this._table=s,this._hasStickyChanged=!1,this._sticky=!1}ngOnChanges(t){super.ngOnChanges(t)}hasStickyChanged(){let t=this._hasStickyChanged;return this.resetStickyChanged(),t}resetStickyChanged(){this._hasStickyChanged=!1}};e.\u0275fac=function(r){return new(r||e)(g(lt),g(ei),g(at,8))},e.\u0275dir=P({type:e,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:[0,"cdkFooterRowDef","columns"],sticky:[2,"cdkFooterRowDefSticky","sticky",ze]},standalone:!0,features:[st,Y,We]});let i=e;return i})(),qr=(()=>{let e=class e extends jo{constructor(t,r,s){super(t,r),this._table=s}};e.\u0275fac=function(r){return new(r||e)(g(lt),g(ei),g(at,8))},e.\u0275dir=P({type:e,selectors:[["","cdkRowDef",""]],inputs:{columns:[0,"cdkRowDefColumns","columns"],when:[0,"cdkRowDefWhen","when"]},standalone:!0,features:[Y]});let i=e;return i})(),li=(()=>{let e=class e{constructor(t){this._viewContainer=t,e.mostRecentCellOutlet=this}ngOnDestroy(){e.mostRecentCellOutlet===this&&(e.mostRecentCellOutlet=null)}};e.mostRecentCellOutlet=null,e.\u0275fac=function(r){return new(r||e)(g(Ct))},e.\u0275dir=P({type:e,selectors:[["","cdkCellOutlet",""]],standalone:!0});let i=e;return i})(),Uo=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=_e({type:e,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],standalone:!0,features:[be],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(r,s){r&1&&Ue(0,0)},dependencies:[li],encapsulation:2});let i=e;return i})();var Bo=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=_e({type:e,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],standalone:!0,features:[be],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(r,s){r&1&&Ue(0,0)},dependencies:[li],encapsulation:2});let i=e;return i})(),El=(()=>{let e=class e{constructor(t){this.templateRef=t,this._contentClassName="cdk-no-data-row"}};e.\u0275fac=function(r){return new(r||e)(g(lt))},e.\u0275dir=P({type:e,selectors:[["ng-template","cdkNoDataRow",""]],standalone:!0});let i=e;return i})(),bl=["top","bottom","left","right"],Po=class{constructor(e,n,t,r,s=!0,o=!0,a){this._isNativeHtmlTable=e,this._stickCellCss=n,this.direction=t,this._coalescedStyleScheduler=r,this._isBrowser=s,this._needsPositionStickyOnElement=o,this._positionListener=a,this._cachedCellWidths=[],this._borderCellCss={top:`${n}-border-elem-top`,bottom:`${n}-border-elem-bottom`,left:`${n}-border-elem-left`,right:`${n}-border-elem-right`}}clearStickyPositioning(e,n){let t=[];for(let r of e)if(r.nodeType===r.ELEMENT_NODE){t.push(r);for(let s=0;s<r.children.length;s++)t.push(r.children[s])}this._coalescedStyleScheduler.schedule(()=>{for(let r of t)this._removeStickyStyle(r,n)})}updateStickyColumns(e,n,t,r=!0){if(!e.length||!this._isBrowser||!(n.some(s=>s)||t.some(s=>s))){this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]}));return}this._coalescedStyleScheduler.schedule(()=>{let s=e[0],o=s.children.length,a=this._getCellWidths(s,r),l=this._getStickyStartColumnPositions(a,n),c=this._getStickyEndColumnPositions(a,t),h=n.lastIndexOf(!0),f=t.indexOf(!0),m=this.direction==="rtl",T=m?"right":"left",F=m?"left":"right";for(let z of e)for(let S=0;S<o;S++){let L=z.children[S];n[S]&&this._addStickyStyle(L,T,l[S],S===h),t[S]&&this._addStickyStyle(L,F,c[S],S===f)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:h===-1?[]:a.slice(0,h+1).map((z,S)=>n[S]?z:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:f===-1?[]:a.slice(f).map((z,S)=>t[S+f]?z:null).reverse()}))})}stickRows(e,n,t){this._isBrowser&&this._coalescedStyleScheduler.schedule(()=>{let r=t==="bottom"?e.slice().reverse():e,s=t==="bottom"?n.slice().reverse():n,o=[],a=[],l=[];for(let h=0,f=0;h<r.length;h++){if(!s[h])continue;o[h]=f;let m=r[h];l[h]=this._isNativeHtmlTable?Array.from(m.children):[m];let T=m.getBoundingClientRect().height;f+=T,a[h]=T}let c=s.lastIndexOf(!0);for(let h=0;h<r.length;h++){if(!s[h])continue;let f=o[h],m=h===c;for(let T of l[h])this._addStickyStyle(T,t,f,m)}t==="top"?this._positionListener?.stickyHeaderRowsUpdated({sizes:a,offsets:o,elements:l}):this._positionListener?.stickyFooterRowsUpdated({sizes:a,offsets:o,elements:l})})}updateStickyFooterContainer(e,n){this._isNativeHtmlTable&&this._coalescedStyleScheduler.schedule(()=>{let t=e.querySelector("tfoot");t&&(n.some(r=>!r)?this._removeStickyStyle(t,["bottom"]):this._addStickyStyle(t,"bottom",0,!1))})}_removeStickyStyle(e,n){for(let r of n)e.style[r]="",e.classList.remove(this._borderCellCss[r]);bl.some(r=>n.indexOf(r)===-1&&e.style[r])?e.style.zIndex=this._getCalculatedZIndex(e):(e.style.zIndex="",this._needsPositionStickyOnElement&&(e.style.position=""),e.classList.remove(this._stickCellCss))}_addStickyStyle(e,n,t,r){e.classList.add(this._stickCellCss),r&&e.classList.add(this._borderCellCss[n]),e.style[n]=`${t}px`,e.style.zIndex=this._getCalculatedZIndex(e),this._needsPositionStickyOnElement&&(e.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(e){let n={top:100,bottom:10,left:1,right:1},t=0;for(let r of bl)e.style[r]&&(t+=n[r]);return t?`${t}`:""}_getCellWidths(e,n=!0){if(!n&&this._cachedCellWidths.length)return this._cachedCellWidths;let t=[],r=e.children;for(let s=0;s<r.length;s++){let o=r[s];t.push(o.getBoundingClientRect().width)}return this._cachedCellWidths=t,t}_getStickyStartColumnPositions(e,n){let t=[],r=0;for(let s=0;s<e.length;s++)n[s]&&(t[s]=r,r+=e[s]);return t}_getStickyEndColumnPositions(e,n){let t=[],r=0;for(let s=e.length;s>0;s--)n[s]&&(t[s]=r,r+=e[s]);return t}};var Wr=new U("CDK_SPL");var zo=(()=>{let e=class e{constructor(t,r){this.viewContainer=t,this.elementRef=r;let s=b(at);s._rowOutlet=this,s._outletAssigned()}};e.\u0275fac=function(r){return new(r||e)(g(Ct),g(Ee))},e.\u0275dir=P({type:e,selectors:[["","rowOutlet",""]],standalone:!0});let i=e;return i})(),$o=(()=>{let e=class e{constructor(t,r){this.viewContainer=t,this.elementRef=r;let s=b(at);s._headerRowOutlet=this,s._outletAssigned()}};e.\u0275fac=function(r){return new(r||e)(g(Ct),g(Ee))},e.\u0275dir=P({type:e,selectors:[["","headerRowOutlet",""]],standalone:!0});let i=e;return i})(),Wo=(()=>{let e=class e{constructor(t,r){this.viewContainer=t,this.elementRef=r;let s=b(at);s._footerRowOutlet=this,s._outletAssigned()}};e.\u0275fac=function(r){return new(r||e)(g(Ct),g(Ee))},e.\u0275dir=P({type:e,selectors:[["","footerRowOutlet",""]],standalone:!0});let i=e;return i})(),Ho=(()=>{let e=class e{constructor(t,r){this.viewContainer=t,this.elementRef=r;let s=b(at);s._noDataRowOutlet=this,s._outletAssigned()}};e.\u0275fac=function(r){return new(r||e)(g(Ct),g(Ee))},e.\u0275dir=P({type:e,selectors:[["","noDataRowOutlet",""]],standalone:!0});let i=e;return i})();var Go=(()=>{let e=class e{_getCellRole(){if(this._cellRoleInternal===void 0){let t=this._elementRef.nativeElement.getAttribute("role"),r=t==="grid"||t==="treegrid"?"gridcell":"cell";this._cellRoleInternal=this._isNativeHtmlTable&&r==="cell"?null:r}return this._cellRoleInternal}get trackBy(){return this._trackByFn}set trackBy(t){this._trackByFn=t}get dataSource(){return this._dataSource}set dataSource(t){this._dataSource!==t&&this._switchDataSource(t)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(t){this._multiTemplateDataRows=t,this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(t){this._fixedLayout=t,this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}constructor(t,r,s,o,a,l,c,h,f,m,T,F){this._differs=t,this._changeDetectorRef=r,this._elementRef=s,this._dir=a,this._platform=c,this._viewRepeater=h,this._coalescedStyleScheduler=f,this._viewportRuler=m,this._stickyPositioningListener=T,this._onDestroy=new pe,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._hasAllOutlets=!1,this._hasInitialized=!1,this._cellRoleInternal=void 0,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new xe,this.viewChange=new Te({start:0,end:Number.MAX_VALUE}),this._injector=b(vi),o||s.nativeElement.setAttribute("role","table"),this._document=l,this._isServer=!c.isBrowser,this._isNativeHtmlTable=s.nativeElement.nodeName==="TABLE"}ngOnInit(){this._setupStickyStyler(),this._dataDiffer=this._differs.find([]).create((t,r)=>this.trackBy?this.trackBy(r.dataIndex,r.data):r),this._viewportRuler.change().pipe(bt(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentInit(){this._hasInitialized=!0}ngAfterContentChecked(){this._canRender()&&this._render()}ngOnDestroy(){[this._rowOutlet?.viewContainer,this._headerRowOutlet?.viewContainer,this._footerRowOutlet?.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(t=>{t?.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),jr(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();let t=this._dataDiffer.diff(this._renderRows);if(!t){this._updateNoDataRow(),this.contentChanged.next();return}let r=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(t,r,(s,o,a)=>this._getEmbeddedViewArgs(s.item,a),s=>s.item.data,s=>{s.operation===Pi.INSERTED&&s.context&&this._renderCellTemplateForItem(s.record.item.rowDef,s.context)}),this._updateRowIndexContext(),t.forEachIdentityChange(s=>{let o=r.get(s.currentIndex);o.context.$implicit=s.item.data}),this._updateNoDataRow(),zn(()=>{this.updateStickyColumnStyles()},{injector:this._injector}),this.contentChanged.next()}addColumnDef(t){this._customColumnDefs.add(t)}removeColumnDef(t){this._customColumnDefs.delete(t)}addRowDef(t){this._customRowDefs.add(t)}removeRowDef(t){this._customRowDefs.delete(t)}addHeaderRowDef(t){this._customHeaderRowDefs.add(t),this._headerRowDefChanged=!0}removeHeaderRowDef(t){this._customHeaderRowDefs.delete(t),this._headerRowDefChanged=!0}addFooterRowDef(t){this._customFooterRowDefs.add(t),this._footerRowDefChanged=!0}removeFooterRowDef(t){this._customFooterRowDefs.delete(t),this._footerRowDefChanged=!0}setNoDataRow(t){this._customNoDataRow=t}updateStickyHeaderRowStyles(){let t=this._getRenderedRows(this._headerRowOutlet);if(this._isNativeHtmlTable){let s=wl(this._headerRowOutlet,"thead");s&&(s.style.display=t.length?"":"none")}let r=this._headerRowDefs.map(s=>s.sticky);this._stickyStyler.clearStickyPositioning(t,["top"]),this._stickyStyler.stickRows(t,r,"top"),this._headerRowDefs.forEach(s=>s.resetStickyChanged())}updateStickyFooterRowStyles(){let t=this._getRenderedRows(this._footerRowOutlet);if(this._isNativeHtmlTable){let s=wl(this._footerRowOutlet,"tfoot");s&&(s.style.display=t.length?"":"none")}let r=this._footerRowDefs.map(s=>s.sticky);this._stickyStyler.clearStickyPositioning(t,["bottom"]),this._stickyStyler.stickRows(t,r,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,r),this._footerRowDefs.forEach(s=>s.resetStickyChanged())}updateStickyColumnStyles(){let t=this._getRenderedRows(this._headerRowOutlet),r=this._getRenderedRows(this._rowOutlet),s=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...t,...r,...s],["left","right"]),this._stickyColumnStylesNeedReset=!1),t.forEach((o,a)=>{this._addStickyColumnStyles([o],this._headerRowDefs[a])}),this._rowDefs.forEach(o=>{let a=[];for(let l=0;l<r.length;l++)this._renderRows[l].rowDef===o&&a.push(r[l]);this._addStickyColumnStyles(a,o)}),s.forEach((o,a)=>{this._addStickyColumnStyles([o],this._footerRowDefs[a])}),Array.from(this._columnDefsByName.values()).forEach(o=>o.resetStickyChanged())}_outletAssigned(){!this._hasAllOutlets&&this._rowOutlet&&this._headerRowOutlet&&this._footerRowOutlet&&this._noDataRowOutlet&&(this._hasAllOutlets=!0,this._canRender()&&this._render())}_canRender(){return this._hasAllOutlets&&this._hasInitialized}_render(){this._cacheRowDefs(),this._cacheColumnDefs(),!this._headerRowDefs.length&&!this._footerRowDefs.length&&this._rowDefs.length;let r=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||r,this._forceRecalculateCellWidths=r,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}_getAllRenderRows(){let t=[],r=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let s=0;s<this._data.length;s++){let o=this._data[s],a=this._getRenderRowsForData(o,s,r.get(o));this._cachedRenderRowsMap.has(o)||this._cachedRenderRowsMap.set(o,new WeakMap);for(let l=0;l<a.length;l++){let c=a[l],h=this._cachedRenderRowsMap.get(c.data);h.has(c.rowDef)?h.get(c.rowDef).push(c):h.set(c.rowDef,[c]),t.push(c)}}return t}_getRenderRowsForData(t,r,s){return this._getRowDefs(t,r).map(a=>{let l=s&&s.has(a)?s.get(a):[];if(l.length){let c=l.shift();return c.dataIndex=r,c}else return{data:t,rowDef:a,dataIndex:r}})}_cacheColumnDefs(){this._columnDefsByName.clear(),Ur(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(r=>{this._columnDefsByName.has(r.name),this._columnDefsByName.set(r.name,r)})}_cacheRowDefs(){this._headerRowDefs=Ur(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=Ur(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=Ur(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);let t=this._rowDefs.filter(r=>!r.when);!this.multiTemplateDataRows&&t.length>1,this._defaultRowDef=t[0]}_renderUpdatedColumns(){let t=(a,l)=>a||!!l.getColumnsDiff(),r=this._rowDefs.reduce(t,!1);r&&this._forceRenderDataRows();let s=this._headerRowDefs.reduce(t,!1);s&&this._forceRenderHeaderRows();let o=this._footerRowDefs.reduce(t,!1);return o&&this._forceRenderFooterRows(),r||s||o}_switchDataSource(t){this._data=[],jr(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),t||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet&&this._rowOutlet.viewContainer.clear()),this._dataSource=t}_observeRenderChanges(){if(!this.dataSource)return;let t;jr(this.dataSource)?t=this.dataSource.connect(this):fi(this.dataSource)?t=this.dataSource:Array.isArray(this.dataSource)&&(t=k(this.dataSource)),this._renderChangeSubscription=t.pipe(bt(this._onDestroy)).subscribe(r=>{this._data=r||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((t,r)=>this._renderRow(this._headerRowOutlet,t,r)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((t,r)=>this._renderRow(this._footerRowOutlet,t,r)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(t,r){let s=Array.from(r.columns||[]).map(l=>{let c=this._columnDefsByName.get(l);return c}),o=s.map(l=>l.sticky),a=s.map(l=>l.stickyEnd);this._stickyStyler.updateStickyColumns(t,o,a,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(t){let r=[];for(let s=0;s<t.viewContainer.length;s++){let o=t.viewContainer.get(s);r.push(o.rootNodes[0])}return r}_getRowDefs(t,r){if(this._rowDefs.length==1)return[this._rowDefs[0]];let s=[];if(this.multiTemplateDataRows)s=this._rowDefs.filter(o=>!o.when||o.when(r,t));else{let o=this._rowDefs.find(a=>a.when&&a.when(r,t))||this._defaultRowDef;o&&s.push(o)}return s.length,s}_getEmbeddedViewArgs(t,r){let s=t.rowDef,o={$implicit:t.data};return{templateRef:s.template,context:o,index:r}}_renderRow(t,r,s,o={}){let a=t.viewContainer.createEmbeddedView(r.template,o,s);return this._renderCellTemplateForItem(r,o),a}_renderCellTemplateForItem(t,r){for(let s of this._getCellTemplates(t))li.mostRecentCellOutlet&&li.mostRecentCellOutlet._viewContainer.createEmbeddedView(s,r);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){let t=this._rowOutlet.viewContainer;for(let r=0,s=t.length;r<s;r++){let a=t.get(r).context;a.count=s,a.first=r===0,a.last=r===s-1,a.even=r%2===0,a.odd=!a.even,this.multiTemplateDataRows?(a.dataIndex=this._renderRows[r].dataIndex,a.renderIndex=r):a.index=this._renderRows[r].dataIndex}}_getCellTemplates(t){return!t||!t.columns?[]:Array.from(t.columns,r=>{let s=this._columnDefsByName.get(r);return t.extractCellTemplate(s)})}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){let t=(r,s)=>r||s.hasStickyChanged();this._headerRowDefs.reduce(t,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(t,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(t,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){let t=this._dir?this._dir.value:"ltr";this._stickyStyler=new Po(this._isNativeHtmlTable,this.stickyCssClass,t,this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:k()).pipe(bt(this._onDestroy)).subscribe(r=>{this._stickyStyler.direction=r,this.updateStickyColumnStyles()})}_getOwnDefs(t){return t.filter(r=>!r._table||r._table===this)}_updateNoDataRow(){let t=this._customNoDataRow||this._noDataRow;if(!t)return;let r=this._rowOutlet.viewContainer.length===0;if(r===this._isShowingNoDataRow)return;let s=this._noDataRowOutlet.viewContainer;if(r){let o=s.createEmbeddedView(t.templateRef),a=o.rootNodes[0];o.rootNodes.length===1&&a?.nodeType===this._document.ELEMENT_NODE&&(a.setAttribute("role","row"),a.classList.add(t._contentClassName))}else s.clear();this._isShowingNoDataRow=r,this._changeDetectorRef.markForCheck()}};e.\u0275fac=function(r){return new(r||e)(g(ei),g(St),g(Ee),as("role"),g(hl,8),g(Z),g(Rt),g(Mn),g($r),g(yl),g(Wr,12),g(de,8))},e.\u0275cmp=_e({type:e,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(r,s,o){if(r&1&&(ft(o,El,5),ft(o,ji,5),ft(o,qr,5),ft(o,Nn,5),ft(o,Vo,5)),r&2){let a;Qe(a=Xe())&&(s._noDataRow=a.first),Qe(a=Xe())&&(s._contentColumnDefs=a),Qe(a=Xe())&&(s._contentRowDefs=a),Qe(a=Xe())&&(s._contentHeaderRowDefs=a),Qe(a=Xe())&&(s._contentFooterRowDefs=a)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(r,s){r&2&&Dt("cdk-table-fixed-layout",s.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:[2,"multiTemplateDataRows","multiTemplateDataRows",ze],fixedLayout:[2,"fixedLayout","fixedLayout",ze]},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],standalone:!0,features:[ve([{provide:at,useExisting:e},{provide:Mn,useClass:Li},{provide:$r,useClass:Lo},{provide:Wr,useValue:null}]),st,be],ngContentSelectors:zf,decls:5,vars:2,consts:[["role","rowgroup"],["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(r,s){r&1&&(_i(Bf),ht(0),ht(1,1),oe(2,$f,1,0)(3,Wf,7,0)(4,Hf,4,0)),r&2&&(M(2),Xt(s._isServer?2:-1),M(),Xt(s._isNativeHtmlTable?3:4))},dependencies:[$o,zo,Ho,Wo],styles:[".cdk-table-fixed-layout{table-layout:fixed}"],encapsulation:2});let i=e;return i})();function Ur(i,e){return i.concat(Array.from(e))}function wl(i,e){let n=e.toUpperCase(),t=i.viewContainer.element.nativeElement;for(;t;){let r=t.nodeType===1?t.nodeName:null;if(r===n)return t;if(r==="TABLE")break;t=t.parentNode}return null}var Il=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ge({type:e}),e.\u0275inj=me({imports:[_l]});let i=e;return i})();var Rl=new Set,di,Gf=(()=>{let e=class e{constructor(t,r){this._platform=t,this._nonce=r,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Kf}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&qf(t,this._nonce),this._matchMedia(t)}};e.\u0275fac=function(r){return new(r||e)(C(Rt),C(Ki,8))},e.\u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();function qf(i,e){if(!Rl.has(i))try{di||(di=document.createElement("style"),e&&di.setAttribute("nonce",e),di.setAttribute("type","text/css"),document.head.appendChild(di)),di.sheet&&(di.sheet.insertRule(`@media ${i} {body{ }}`,0),Rl.add(i))}catch(n){console.error(n)}}function Kf(i){return{matches:i==="all"||i==="",media:i,addListener:()=>{},removeListener:()=>{}}}var kl=(()=>{let e=class e{constructor(t,r){this._mediaMatcher=t,this._zone=r,this._queries=new Map,this._destroySubject=new pe}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return Tl(No(t)).some(s=>this._registerQuery(s).mql.matches)}observe(t){let s=Tl(No(t)).map(a=>this._registerQuery(a).observable),o=Hi(s);return o=jn(o.pipe(Ot(1)),o.pipe(la(1),sa(0))),o.pipe(V(a=>{let l={matches:!1,breakpoints:{}};return a.forEach(({matches:c,query:h})=>{l.matches=l.matches||c,l.breakpoints[h]=c}),l}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);let r=this._mediaMatcher.matchMedia(t),o={observable:new xt(a=>{let l=c=>this._zone.run(()=>a.next(c));return r.addListener(l),()=>{r.removeListener(l)}}).pipe(Gi(r),V(({matches:a})=>({query:t,matches:a})),bt(this._destroySubject)),mql:r};return this._queries.set(t,o),o}};e.\u0275fac=function(r){return new(r||e)(C(Gf),C(de))},e.\u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();function Tl(i){return i.map(e=>e.split(",")).reduce((e,n)=>e.concat(n)).map(e=>e.trim())}function Ml(i){return i.buttons===0||i.detail===0}function Ol(i){let e=i.touches&&i.touches[0]||i.changedTouches&&i.changedTouches[0];return!!e&&e.identifier===-1&&(e.radiusX==null||e.radiusX===1)&&(e.radiusY==null||e.radiusY===1)}var ui=function(i){return i[i.NONE=0]="NONE",i[i.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",i[i.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",i}(ui||{}),Al="cdk-high-contrast-black-on-white",xl="cdk-high-contrast-white-on-black",qo="cdk-high-contrast-active",Nl=(()=>{let e=class e{constructor(t,r){this._platform=t,this._document=r,this._breakpointSubscription=b(kl).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return ui.NONE;let t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);let r=this._document.defaultView||window,s=r&&r.getComputedStyle?r.getComputedStyle(t):null,o=(s&&s.backgroundColor||"").replace(/ /g,"");switch(t.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return ui.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return ui.BLACK_ON_WHITE}return ui.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let t=this._document.body.classList;t.remove(qo,Al,xl),this._hasCheckedHighContrastMode=!0;let r=this.getHighContrastMode();r===ui.BLACK_ON_WHITE?t.add(qo,Al):r===ui.WHITE_ON_BLACK&&t.add(qo,xl)}}};e.\u0275fac=function(r){return new(r||e)(C(Rt),C(Z))},e.\u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();function Zf(){return!0}var Qf=new U("mat-sanity-checks",{providedIn:"root",factory:Zf}),Zo=(()=>{let e=class e{constructor(t,r,s){this._sanityChecks=r,this._document=s,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return pl()?!1:typeof this._sanityChecks=="boolean"?this._sanityChecks:!!this._sanityChecks[t]}};e.\u0275fac=function(r){return new(r||e)(C(Nl),C(Qf,8),C(Z))},e.\u0275mod=ge({type:e}),e.\u0275inj=me({imports:[Fi,Fi]});let i=e;return i})();var tt=function(i){return i[i.FADING_IN=0]="FADING_IN",i[i.VISIBLE=1]="VISIBLE",i[i.FADING_OUT=2]="FADING_OUT",i[i.HIDDEN=3]="HIDDEN",i}(tt||{}),Ko=class{constructor(e,n,t,r=!1){this._renderer=e,this.element=n,this.config=t,this._animationForciblyDisabledThroughCss=r,this.state=tt.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}},Fl=Oo({passive:!0,capture:!0}),Yo=class{constructor(){this._events=new Map,this._delegateEventHandler=e=>{let n=fl(e);n&&this._events.get(e.type)?.forEach((t,r)=>{(r===n||r.contains(n))&&t.forEach(s=>s.handleEvent(e))})}}addHandler(e,n,t,r){let s=this._events.get(n);if(s){let o=s.get(t);o?o.add(r):s.set(t,new Set([r]))}else this._events.set(n,new Map([[t,new Set([r])]])),e.runOutsideAngular(()=>{document.addEventListener(n,this._delegateEventHandler,Fl)})}removeHandler(e,n,t){let r=this._events.get(e);if(!r)return;let s=r.get(n);s&&(s.delete(t),s.size===0&&r.delete(n),r.size===0&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,Fl)))}},Pl={enterDuration:225,exitDuration:150},Xf=800,Ll=Oo({passive:!0,capture:!0}),jl=["mousedown","touchstart"],Vl=["mouseup","mouseleave","touchend","touchcancel"],Fn=class Fn{constructor(e,n,t,r){this._target=e,this._ngZone=n,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Fo(t))}fadeInRipple(e,n,t={}){let r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s=_(_({},Pl),t.animation);t.centered&&(e=r.left+r.width/2,n=r.top+r.height/2);let o=t.radius||Jf(e,n,r),a=e-r.left,l=n-r.top,c=s.enterDuration,h=document.createElement("div");h.classList.add("mat-ripple-element"),h.style.left=`${a-o}px`,h.style.top=`${l-o}px`,h.style.height=`${o*2}px`,h.style.width=`${o*2}px`,t.color!=null&&(h.style.backgroundColor=t.color),h.style.transitionDuration=`${c}ms`,this._containerElement.appendChild(h);let f=window.getComputedStyle(h),m=f.transitionProperty,T=f.transitionDuration,F=m==="none"||T==="0s"||T==="0s, 0s"||r.width===0&&r.height===0,z=new Ko(this,h,t,F);h.style.transform="scale3d(1, 1, 1)",z.state=tt.FADING_IN,t.persistent||(this._mostRecentTransientRipple=z);let S=null;return!F&&(c||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let L=()=>{S&&(S.fallbackTimer=null),clearTimeout(ae),this._finishRippleTransition(z)},ne=()=>this._destroyRipple(z),ae=setTimeout(ne,c+100);h.addEventListener("transitionend",L),h.addEventListener("transitioncancel",ne),S={onTransitionEnd:L,onTransitionCancel:ne,fallbackTimer:ae}}),this._activeRipples.set(z,S),(F||!c)&&this._finishRippleTransition(z),z}fadeOutRipple(e){if(e.state===tt.FADING_OUT||e.state===tt.HIDDEN)return;let n=e.element,t=_(_({},Pl),e.config.animation);n.style.transitionDuration=`${t.exitDuration}ms`,n.style.opacity="0",e.state=tt.FADING_OUT,(e._animationForciblyDisabledThroughCss||!t.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){let n=Fo(e);!this._platform.isBrowser||!n||n===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=n,jl.forEach(t=>{Fn._eventManager.addHandler(this._ngZone,t,n,this)}))}handleEvent(e){e.type==="mousedown"?this._onMousedown(e):e.type==="touchstart"?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{Vl.forEach(n=>{this._triggerElement.addEventListener(n,this,Ll)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){e.state===tt.FADING_IN?this._startFadeOutTransition(e):e.state===tt.FADING_OUT&&this._destroyRipple(e)}_startFadeOutTransition(e){let n=e===this._mostRecentTransientRipple,{persistent:t}=e.config;e.state=tt.VISIBLE,!t&&(!n||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){let n=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=tt.HIDDEN,n!==null&&(e.element.removeEventListener("transitionend",n.onTransitionEnd),e.element.removeEventListener("transitioncancel",n.onTransitionCancel),n.fallbackTimer!==null&&clearTimeout(n.fallbackTimer)),e.element.remove()}_onMousedown(e){let n=Ml(e),t=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+Xf;!this._target.rippleDisabled&&!n&&!t&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!Ol(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let n=e.changedTouches;if(n)for(let t=0;t<n.length;t++)this.fadeInRipple(n[t].clientX,n[t].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{let n=e.state===tt.VISIBLE||e.config.terminateOnPointerUp&&e.state===tt.FADING_IN;!e.config.persistent&&n&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let e=this._triggerElement;e&&(jl.forEach(n=>Fn._eventManager.removeHandler(n,e,this)),this._pointerUpEventsRegistered&&(Vl.forEach(n=>e.removeEventListener(n,this,Ll)),this._pointerUpEventsRegistered=!1))}};Fn._eventManager=new Yo;var Ul=Fn;function Jf(i,e,n){let t=Math.max(Math.abs(i-n.left),Math.abs(i-n.right)),r=Math.max(Math.abs(e-n.top),Math.abs(e-n.bottom));return Math.sqrt(t*t+r*r)}var ep=[[["caption"]],[["colgroup"],["col"]],"*"],tp=["caption","colgroup, col","*"];function ip(i,e){i&1&&ht(0,2)}function np(i,e){i&1&&(y(0,"thead",0),Ue(1,1),v(),y(2,"tbody",2),Ue(3,3)(4,4),v(),y(5,"tfoot",0),Ue(6,5),v())}function rp(i,e){i&1&&Ue(0,1)(1,3)(2,4)(3,5)}var Bl=(()=>{let e=class e extends Go{constructor(){super(...arguments),this.stickyCssClass="mat-mdc-table-sticky",this.needsPositionStickyOnElement=!1}};e.\u0275fac=(()=>{let t;return function(s){return(t||(t=Ae(e)))(s||e)}})(),e.\u0275cmp=_e({type:e,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-mdc-table","mdc-data-table__table"],hostVars:2,hostBindings:function(r,s){r&2&&Dt("mdc-table-fixed-layout",s.fixedLayout)},exportAs:["matTable"],standalone:!0,features:[ve([{provide:Go,useExisting:e},{provide:at,useExisting:e},{provide:$r,useClass:Lo},{provide:Mn,useClass:Li},{provide:Wr,useValue:null}]),Y,be],ngContentSelectors:tp,decls:5,vars:2,consts:[["role","rowgroup"],["headerRowOutlet",""],["role","rowgroup",1,"mdc-data-table__content"],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(r,s){r&1&&(_i(ep),ht(0),ht(1,1),oe(2,ip,1,0)(3,np,7,0)(4,rp,4,0)),r&2&&(M(2),Xt(s._isServer?2:-1),M(),Xt(s._isNativeHtmlTable?3:4))},dependencies:[$o,zo,Ho,Wo],styles:[".mat-mdc-table-sticky{position:sticky !important}mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}.mat-mdc-table{min-width:100%;border:0;border-spacing:0;table-layout:auto;white-space:normal;background-color:var(--mat-table-background-color, var(--mat-app-surface))}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell{text-align:right}.mdc-data-table__cell,.mdc-data-table__header-cell{padding:0 16px}.mat-mdc-header-row{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;height:var(--mat-table-header-container-height, 56px);color:var(--mat-table-header-headline-color, var(--mat-app-on-surface, rgba(0, 0, 0, 0.87)));font-family:var(--mat-table-header-headline-font, var(--mat-app-title-small-font, Roboto, sans-serif));line-height:var(--mat-table-header-headline-line-height, var(--mat-app-title-small-line-height));font-size:var(--mat-table-header-headline-size, var(--mat-app-title-small-size, 14px));font-weight:var(--mat-table-header-headline-weight, var(--mat-app-title-small-weight, 500))}.mat-mdc-row{height:var(--mat-table-row-item-container-height, 52px);color:var(--mat-table-row-item-label-text-color, var(--mat-app-on-surface, rgba(0, 0, 0, 0.87)))}.mat-mdc-row,.mdc-data-table__content{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-table-row-item-label-text-font, var(--mat-app-body-medium-font, Roboto, sans-serif));line-height:var(--mat-table-row-item-label-text-line-height, var(--mat-app-body-medium-line-height));font-size:var(--mat-table-row-item-label-text-size, var(--mat-app-body-medium-size, 14px));font-weight:var(--mat-table-row-item-label-text-weight, var(--mat-app-body-medium-weight))}.mat-mdc-footer-row{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;height:var(--mat-table-footer-container-height, 52px);color:var(--mat-table-row-item-label-text-color, var(--mat-app-on-surface, rgba(0, 0, 0, 0.87)));font-family:var(--mat-table-footer-supporting-text-font, var(--mat-app-body-medium-font, Roboto, sans-serif));line-height:var(--mat-table-footer-supporting-text-line-height, var(--mat-app-body-medium-line-height));font-size:var(--mat-table-footer-supporting-text-size, var(--mat-app-body-medium-size, 14px));font-weight:var(--mat-table-footer-supporting-text-weight, var(--mat-app-body-medium-weight));letter-spacing:var(--mat-table-footer-supporting-text-tracking, var(--mat-app-body-medium-tracking))}.mat-mdc-header-cell{border-bottom-color:var(--mat-table-row-item-outline-color, var(--mat-app-outline, rgba(0, 0, 0, 0.12)));border-bottom-width:var(--mat-table-row-item-outline-width, 1px);border-bottom-style:solid;letter-spacing:var(--mat-table-header-headline-tracking, var(--mat-app-title-small-tracking));font-weight:inherit;line-height:inherit;box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mat-mdc-header-cell{text-align:right}.mat-mdc-cell{border-bottom-color:var(--mat-table-row-item-outline-color, var(--mat-app-outline, rgba(0, 0, 0, 0.12)));border-bottom-width:var(--mat-table-row-item-outline-width, 1px);border-bottom-style:solid;letter-spacing:var(--mat-table-row-item-label-text-tracking, var(--mat-app-body-medium-tracking));line-height:inherit}.mdc-data-table__row:last-child .mat-mdc-cell{border-bottom:none}.mat-mdc-footer-cell{letter-spacing:var(--mat-table-row-item-label-text-tracking, var(--mat-app-body-medium-tracking))}mat-row.mat-mdc-row,mat-header-row.mat-mdc-header-row,mat-footer-row.mat-mdc-footer-row{border-bottom:none}.mat-mdc-table tbody,.mat-mdc-table tfoot,.mat-mdc-table thead,.mat-mdc-cell,.mat-mdc-footer-cell,.mat-mdc-header-row,.mat-mdc-row,.mat-mdc-footer-row,.mat-mdc-table .mat-mdc-header-cell{background:inherit}.mat-mdc-table mat-header-row.mat-mdc-header-row,.mat-mdc-table mat-row.mat-mdc-row,.mat-mdc-table mat-footer-row.mat-mdc-footer-cell{height:unset}mat-header-cell.mat-mdc-header-cell,mat-cell.mat-mdc-cell,mat-footer-cell.mat-mdc-footer-cell{align-self:stretch}"],encapsulation:2});let i=e;return i})(),zl=(()=>{let e=class e extends Hr{};e.\u0275fac=(()=>{let t;return function(s){return(t||(t=Ae(e)))(s||e)}})(),e.\u0275dir=P({type:e,selectors:[["","matCellDef",""]],standalone:!0,features:[ve([{provide:Hr,useExisting:e}]),Y]});let i=e;return i})(),$l=(()=>{let e=class e extends Gr{};e.\u0275fac=(()=>{let t;return function(s){return(t||(t=Ae(e)))(s||e)}})(),e.\u0275dir=P({type:e,selectors:[["","matHeaderCellDef",""]],standalone:!0,features:[ve([{provide:Gr,useExisting:e}]),Y]});let i=e;return i})();var Wl=(()=>{let e=class e extends ji{get name(){return this._name}set name(t){this._setNameInput(t)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}};e.\u0275fac=(()=>{let t;return function(s){return(t||(t=Ae(e)))(s||e)}})(),e.\u0275dir=P({type:e,selectors:[["","matColumnDef",""]],inputs:{name:[0,"matColumnDef","name"]},standalone:!0,features:[ve([{provide:ji,useExisting:e},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:e}]),Y]});let i=e;return i})(),Hl=(()=>{let e=class e extends Dl{};e.\u0275fac=(()=>{let t;return function(s){return(t||(t=Ae(e)))(s||e)}})(),e.\u0275dir=P({type:e,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-mdc-header-cell","mdc-data-table__header-cell"],standalone:!0,features:[Y]});let i=e;return i})();var Gl=(()=>{let e=class e extends Sl{};e.\u0275fac=(()=>{let t;return function(s){return(t||(t=Ae(e)))(s||e)}})(),e.\u0275dir=P({type:e,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:[1,"mat-mdc-cell","mdc-data-table__cell"],standalone:!0,features:[Y]});let i=e;return i})();var ql=(()=>{let e=class e extends Nn{};e.\u0275fac=(()=>{let t;return function(s){return(t||(t=Ae(e)))(s||e)}})(),e.\u0275dir=P({type:e,selectors:[["","matHeaderRowDef",""]],inputs:{columns:[0,"matHeaderRowDef","columns"],sticky:[2,"matHeaderRowDefSticky","sticky",ze]},standalone:!0,features:[ve([{provide:Nn,useExisting:e}]),st,Y]});let i=e;return i})();var Kl=(()=>{let e=class e extends qr{};e.\u0275fac=(()=>{let t;return function(s){return(t||(t=Ae(e)))(s||e)}})(),e.\u0275dir=P({type:e,selectors:[["","matRowDef",""]],inputs:{columns:[0,"matRowDefColumns","columns"],when:[0,"matRowDefWhen","when"]},standalone:!0,features:[ve([{provide:qr,useExisting:e}]),Y]});let i=e;return i})(),Yl=(()=>{let e=class e extends Uo{};e.\u0275fac=(()=>{let t;return function(s){return(t||(t=Ae(e)))(s||e)}})(),e.\u0275cmp=_e({type:e,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-mdc-header-row","mdc-data-table__header-row"],exportAs:["matHeaderRow"],standalone:!0,features:[ve([{provide:Uo,useExisting:e}]),Y,be],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(r,s){r&1&&Ue(0,0)},dependencies:[li],encapsulation:2});let i=e;return i})();var Zl=(()=>{let e=class e extends Bo{};e.\u0275fac=(()=>{let t;return function(s){return(t||(t=Ae(e)))(s||e)}})(),e.\u0275cmp=_e({type:e,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-mdc-row","mdc-data-table__row"],exportAs:["matRow"],standalone:!0,features:[ve([{provide:Bo,useExisting:e}]),Y,be],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(r,s){r&1&&Ue(0,0)},dependencies:[li],encapsulation:2});let i=e;return i})();var Ql=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ge({type:e}),e.\u0275inj=me({imports:[Zo,Il,Zo]});let i=e;return i})();var Vi=class i{constructor(e,n){this.document=e;this.rendererFactory=n;this.renderer=this.rendererFactory.createRenderer(null,null),this.loadScript("assets/hslib.js")}renderer;userWS=null;hsWs=null;messageQueue=[];userWSMessageSubject=new pe;hsWSMessageSubject=new pe;userWSMessage$=this.userWSMessageSubject.asObservable();hsWSMessage$=this.hsWSMessageSubject.asObservable();loadScript(e){return new Promise((n,t)=>{let r=this.renderer.createElement("script");r.src=e,r.onload=()=>{console.log("Script loaded successfully."),n()},r.onerror=()=>{console.error("Script loading failed."),t(new Error("Script loading failed."))},this.renderer.appendChild(this.document.body,r)})}connectHsm(e,n,t){let r="wss://mlhsm.kotaksecurities.com";this.userWS=new HSWebSocket(r),this.userWS.onopen=()=>{console.log("[HSM Socket]: Connection opened");let s={Authorization:e,Sid:n,type:"cn"};for(this.userWS?.send(JSON.stringify(s));this.messageQueue.length>0;){let o=this.messageQueue.shift();this.userWS?.send(JSON.stringify(o))}},this.userWS.onclose=()=>{console.log("[onclose HSM Socket onclose]: Disconnected!")},this.userWS.onerror=()=>{console.log("[onerror HSM Socket Error]: Error!")},this.userWS.onmessage=s=>{this.userWSMessageSubject.next(s),t(s)}}connectHsi(e,n,t,r){let s=`wss://mlhsi.kotaksecurities.com/realtime?sId=${t}`;this.hsWs=new WebSocket(s),this.hsWs.onopen=()=>{let o={type:"cn",Authorization:e,Sid:n,source:"WEB"};this.hsWs?.send(JSON.stringify(o))},this.hsWs.onclose=()=>{console.log("[onclose HSI Socket]: Disconnected!")},this.hsWs.onerror=()=>{console.log("[onerror HSI Socket]: Error!")},this.hsWs.onmessage=o=>{console.log("[onmessage HSI Socket]: Received message",o),this.hsWSMessageSubject.next(o),r(o)}}sendMessageToUserWS(e){this.userWS&&this.userWS.readyState===WebSocket.OPEN?(this.userWS.send(JSON.stringify(e)),console.log("WebSocket is connected and message sent:",JSON.stringify(e))):(console.error("WebSocket is not connected. Queuing message:",e),this.messageQueue.push(e))}sendMessageToHsWs(e){this.hsWs&&this.hsWs.readyState===WebSocket.OPEN?(this.hsWs.send(JSON.stringify(e)),console.log("HS WebSocket is connected and message sent:",e)):console.error("HS WebSocket is not connected.")}closeHsmConnection(){this.userWS&&(this.userWS.close(),this.userWS=null,console.log("[closeHsmConnection]: HSM WebSocket connection closed."))}closeHsiConnection(){this.hsWs&&(this.hsWs.close(),this.hsWs=null,console.log("[closeHsiConnection]: HSI WebSocket connection closed."))}static \u0275fac=function(n){return new(n||i)(C(Z),C(yi))};static \u0275prov=w({token:i,factory:i.\u0275fac,providedIn:"root"})};var ed=cd(Jl());var Kr=class i{CHUNK_SIZE=2e5;CONCURRENCY_LIMIT=2;desiredColumns=["pSymbol","pExchSeg","pSymbolName","pTrdSymbol","pOptionType","pScripRefKey","lExpiryDate ","dStrikePrice;"];constructor(){}processCsvUrls(e){return e.length===0?(console.warn("No URLs provided to process."),k([])):Ce(e).pipe(Le(n=>this.processCsvUrl(n),this.CONCURRENCY_LIMIT),ns(e.length),V(n=>n.flat()),_t(n=>(console.error("Error processing CSV URLs:",n),k([]))))}processCsvUrl(e){return Ce(fetch(e).then(n=>n.text())).pipe(Le(n=>{let t=this.splitCsvIntoChunks(n),r=t.length;return Ce(t).pipe(Le(s=>this.processCsvChunk(s),this.CONCURRENCY_LIMIT),ns(r),V(s=>s.flat()))}),_t(n=>(console.error(`Error processing URL ${e}:`,n),[])))}splitCsvIntoChunks(e){let n=e.split(`
`),t=[];for(let r=0;r<n.length;r+=this.CHUNK_SIZE)t.push(n.slice(r,r+this.CHUNK_SIZE).join(`
`));return t}processCsvChunk(e){return new xt(n=>{ed.default.parse(e,{header:!0,skipEmptyLines:!0,complete:t=>{let s=t.data.map(o=>{let a={};return this.desiredColumns.forEach(l=>{o[l]!==void 0&&(a[l]=o[l])}),a}).map(o=>{let a="dStrikePrice;";if(o[a]){let l=parseFloat(o[a]);isNaN(l)||(o[a]=(l/100).toFixed(0))}return o});n.next(s),n.complete()},error:t=>{console.error("Error parsing CSV chunk:",t),n.error(t)}})})}static \u0275fac=function(n){return new(n||i)};static \u0275prov=w({token:i,factory:i.\u0275fac,providedIn:"root"})};var Ui=class i{constructor(e){this.csvProcessingServiceService=e}BASE_URL="http://localhost:3000";fileBasePathUrl="https://gw-napi.kotaksecurities.com/Files/1.0/masterscrip/v1/file-paths";bearerToken=localStorage.getItem("token")||"";data=[];masterScriptData=[];ScriptFilesPaths=[];nseCMAndnseFOScriptPath=[];allScriptDataSubject=new Te([]);allScriptData$=this.allScriptDataSubject.asObservable();targetNumberSubject=new Te(5e4);targetNumber$=this.targetNumberSubject.asObservable();normalizeSegmentName(e){return{BANKNIFTY:"NiftyBank",NIFTY:"Nifty 50",FINNIFTY:"Nifty Fin Service"}[e.toUpperCase()]||e}getExchangeSegmentKeys(e){let n=this.normalizeSegmentName(e);return{"Nifty 50":["nse_fo","nse_cm"],NiftyBank:["nse_fo","nse_cm"],"Nifty Fin Service":["nse_cm"],SENSEX:["bse_cm"],"INDIA VIX":["nse_cm"]}[n]||[n]}formatTokensLive(e){let n="";return typeof e=="object"&&"exchange_segment"in e&&"instrument_token"in e&&(n+=`${e.exchange_segment}|${e.instrument_token}`),n}scripMasterInit(e){return je(this,null,function*(){let n=`${this.fileBasePathUrl}`,t={Authorization:`Bearer ${this.bearerToken}`,"Content-Type":"application/json"};try{let s=yield(yield fetch(n,{method:"GET",headers:t})).json(),o=s.data;if(this.ScriptFilesPaths=s.data.filesPaths,e){let a=this.getExchangeSegmentKeys(e),l=o.filesPaths.filter(c=>a.some(h=>c.toLowerCase().includes(h.toLowerCase())));return l.length>0?(this.nseCMAndnseFOScriptPath=l,fetch(`${this.BASE_URL}/data/process-csv`,{method:"POST",headers:t,body:JSON.stringify(l)}).then(c=>c.json()).then(c=>{console.log("Success:",c)}).catch(c=>{console.error("Error:",c)}),""):{Error:"Exchange segment not found"}}return this.masterScriptData}catch(r){return{error:r}}})}convertToReadableDate(e,n){return(n==="nse_fo"||n==="cde_fo")&&(e+=315513e3),new Date(e*1e3).toLocaleString()}calculateStrikePrice(e){return e/100}setAllScriptData(e){this.allScriptDataSubject.next(e),this.masterScriptData=e}getAllScriptData(){return this.allScriptData$}generateNumberSequence(e,n,t){let r=[];if(e==null||typeof e!="number")return console.error("Invalid targetNumber: Must be a number."),r;if(n==null||typeof n!="number"||n<0)return console.error("Invalid count: Must be a non-negative number."),r;if(t==null||typeof t!="number"||t<=0)return console.error("Invalid step: Must be a positive number."),r;let s=this.findNearestNumber(e,100);for(let o=1;o<=n;o++)r.push(s-o*t);r.push(s);for(let o=1;o<=n;o++)r.push(s+o*t);return r.sort((o,a)=>o-a)}updateTargetNumber(e){console.log("object,newTargetNumber",e),this.targetNumberSubject.next(e)}findNearestNumber(e,n){let t=e%n,r=n/2;return t===0?e:t>r?e+(n-t):e-t}static \u0275fac=function(n){return new(n||i)(C(Kr))};static \u0275prov=w({token:i,factory:i.\u0275fac,providedIn:"root"})};var Bi=class i{dbName="ScriptDataBase";dbVersion=1;db;dbPromise;count=20;step=100;centerNumber=5e4;stepSize=100;numbersBefore=20;numbersAfter=20;constructor(){this.dbPromise=this.openDatabase()}openDatabase(){return new Promise((e,n)=>{let t=indexedDB.open(this.dbName,this.dbVersion);t.onupgradeneeded=r=>{this.db=r.target.result,this.db.objectStoreNames.contains("scriptData")||this.db.createObjectStore("scriptData",{keyPath:["dStrikePrice","pSymbol"]}).createIndex("dStrikePriceIndex","dStrikePrice")},t.onsuccess=r=>{this.db=r.target.result,console.log("Database opened successfully"),e(this.db)},t.onerror=r=>{console.error("Error opening database:",r.target.error),n(r.target.error)}})}getDb(){return this.dbPromise}addData(e){this.getDb().then(n=>{let t=n.transaction("scriptData","readwrite"),r=t.objectStore("scriptData"),s=Object.entries(e).map(([l,c])=>(l==="dStrikePrice;"&&(l="dStrikePrice"),[l,c])),o=Object.fromEntries(s);if(!o.dStrikePrice){console.error("dStrikePrice is missing from the data object.");return}let a=r.put(o);a.onsuccess=()=>{console.log(`Data with dStrikePrice ${o} added/updated successfully`)},a.onerror=l=>{console.error(`Error adding/updating data with dStrikePrice ${o}:`,l.target.error)},t.oncomplete=()=>{},t.onerror=l=>{console.error("Transaction error:",l.target.error)}}).catch(n=>{console.error("Error accessing database:",n)})}getAllData(){return new Promise((e,n)=>{this.getDb().then(t=>{let o=t.transaction("scriptData","readonly").objectStore("scriptData").getAll();o.onsuccess=()=>{e(o.result)},o.onerror=a=>{n(a.target.error)}}).catch(t=>{n(t)})})}closeDatabase(){this.db&&(this.db.close(),this.db=void 0)}getDataByStrikePrice(e){return new Promise((n,t)=>{this.getDb().then(r=>{let l=r.transaction("scriptData","readonly").objectStore("scriptData").index("dStrikePriceIndex").getAll(e);l.onsuccess=()=>{n(l.result)},l.onerror=c=>{t(c.target.error)}}).catch(r=>{t(r)})})}getCurrentTimestamp(){return new Date().getTime()}getLastDeletionTimestamp(){let e=localStorage.getItem("lastDeletionTimestamp");return e?parseInt(e,10):null}setLastDeletionTimestamp(e){localStorage.setItem("lastDeletionTimestamp",e.toString())}deleteAllIndexedDB(){return je(this,null,function*(){try{let e=yield indexedDB.databases();if(e.length>0)for(let n of e)if(typeof n.name=="string"){let t=indexedDB.deleteDatabase(n.name);t.onsuccess=()=>{console.log(`IndexedDB database '${n.name}' deleted successfully`)},t.onerror=r=>{console.error(`Error deleting IndexedDB database '${n.name}':`,r)},t.onblocked=()=>{console.warn(`IndexedDB deletion of '${n.name}' blocked`)}}else console.error("Database name is not a string:",n);else console.log("No indexedDB databases found")}catch(e){console.error("Error retrieving indexedDB databases:",e)}})}performDailyDeletion(){let e=this.getCurrentTimestamp(),n=this.getLastDeletionTimestamp();!n||e-n>=864e5?(this.deleteAllIndexedDB(),this.setLastDeletionTimestamp(e)):console.log("Not enough time has passed since the last deletion")}getRangeExtremes(e,n,t,r){let s=typeof e=="string"?parseFloat(e):e;if(isNaN(s))return console.error("Invalid center value: Must be a number or a numeric string."),{lowest:NaN,highest:NaN};let o=s-t*n,a=s+r*n;return{lowest:o,highest:a}}getStrinkePriceRangeData(e,n,t,r,s){let{lowest:o,highest:a}=this.getRangeExtremes(n,t,r,s),l=o+"",c=a+"";return console.log(`Fetching data from range: ${l} to ${c}`),new Promise((h,f)=>{this.getDb().then(m=>{let z=m.transaction("scriptData","readonly").objectStore("scriptData").index("dStrikePriceIndex"),S=IDBKeyRange.bound(l,c,!1,!1),L=z.openCursor(S),ne=[];L.onsuccess=ae=>{let W=ae.target.result;if(W)ne.push(W.value),W.continue();else if(e){let B=ne.filter(u=>u.pSymbolName===e);console.log("Filtered Results:",B),h(B)}else h(ne)},L.onerror=ae=>{f(ae.target.error)}}).catch(m=>{f(m)})})}static \u0275fac=function(n){return new(n||i)};static \u0275prov=w({token:i,factory:i.\u0275fac,providedIn:"root"})};var nd=()=>["strikePrice"];function ap(i,e){if(i&1){let n=Jt();y(0,"li")(1,"span",25),ue("click",function(){let r=Ft(n).$implicit,s=Be();return Pt(s.setScriptType(r))}),A(2),v()()}if(i&2){let n=e.$implicit,t=Be();M(2),Ve(" ",t.getDisplayName(n)," ")}}function cp(i,e){if(i&1){let n=Jt();y(0,"li")(1,"button",25),ue("click",function(){let r=Ft(n).$implicit,s=Be();return Pt(s.setExpiryDate(r))}),A(2),v()()}if(i&2){let n=e.$implicit;M(2),Ve(" ",n," ")}}function lp(i,e){i&1&&(y(0,"th",26),A(1," Volume "),v())}function dp(i,e){if(i&1&&(y(0,"td",27),A(1),v()),i&2){let n=e.$implicit;M(),Ve(" ",n.volume," ")}}function up(i,e){i&1&&(y(0,"th",26),A(1," OI "),v())}function hp(i,e){if(i&1&&(y(0,"td",27),A(1),v()),i&2){let n=e.$implicit;M(),Ve(" ",n.oi," ")}}function fp(i,e){i&1&&(y(0,"th",26),A(1," OI Chg.(Chg%) "),v())}function pp(i,e){if(i&1&&(y(0,"td",27),A(1),v()),i&2){let n=e.$implicit;M(),Ve(" ",n.oiChg," ")}}function mp(i,e){i&1&&(y(0,"th",26),A(1," LTP (Chg%) "),v())}function gp(i,e){if(i&1&&(y(0,"td",27),A(1),v()),i&2){let n=e.$implicit;M(),Ve(" ",n.ltpChg," ")}}function vp(i,e){i&1&&(y(0,"th",26),A(1," LTP "),v())}function yp(i,e){if(i&1&&(y(0,"td",27),A(1),v()),i&2){let n=e.$implicit;M(),Ve(" ",n.ltp," ")}}function _p(i,e){i&1&&(y(0,"th",28),A(1," Strike Price "),v())}function bp(i,e){if(i&1&&(y(0,"td",27),A(1),v()),i&2){let n=e.$implicit;M(),Ve(" ",n.strikePrice," ")}}function wp(i,e){i&1&&Me(0,"tr",29)}function Cp(i,e){i&1&&Me(0,"tr",30)}function Dp(i,e){i&1&&(y(0,"th",26),A(1," Strike Price "),v())}function Sp(i,e){if(i&1&&(y(0,"td",31),A(1),v()),i&2){let n=e.$implicit;M(),Ve(" ",n," ")}}function Ep(i,e){i&1&&Me(0,"tr",29)}function Ip(i,e){i&1&&Me(0,"tr",30)}var zi=class i{constructor(e,n,t,r){this.apiService=e;this.wsService=n;this.ScripMasterService=t;this.indexedDbService=r}displayedColumns=["volume","oi","oiChg","ltpChg","ltp","strikePrice"];token="";data=null;strikePrice=0;readableDate="";indexToken="";stringToNumber=Lr;sid="";ivValue=NaN;tolerance=50;optionsData=[];presentIndexData=[];sortedStrikePrices=[];expiryDates=[];selectedExpiry;selectedScript;fetchInterval;wsSubscription=null;subIndices="nse_cm|Nifty Bank";subOptions="nse_fo|43100";scriptMap={BANKNIFTY:"Nifty Bank",NIFTY:"Nifty 50",FINNIFTY:"FIN NIFTY"};scriptList=Object.keys(this.scriptMap);scriptData=[];liveDataSubject=new pe;liveData$=this.liveDataSubject.asObservable();count=20;step=100;strikePriceResult=[];pSymbol=[];masterScript;ngOnInit(){this.token=localStorage.getItem("token")||"",this.sid=localStorage.getItem("sid")||"",this.selectedScript=this.scriptList[0],this.setupWebSocket(),this.strikePriceChangesDectection()}ngOnDestroy(){this.fetchInterval&&clearInterval(this.fetchInterval),this.wsSubscription&&this.wsSubscription.unsubscribe()}fetchExpiryDates(){let e=this.selectedScript;if(!e||e.trim()===""){console.error("Selected symbol is empty or invalid.");return}this.expiryDates=this.getExpiryDates(this.masterScript),console.log("this.selectedExpiry",this.selectedExpiry)}getExpiryDates(e){return e.map(n=>n.lExpiryDate)}expiryDataConvertion(e){let n=315513e3+e;var t=new Date(n*1e3);let r={day:"2-digit",month:"short",year:"numeric"};return t.toLocaleDateString("en-GB",r).replace(/\s/g,"-")}fetchOptionChainData(){let e=this.selectedExpiry;if(!e||e.trim()===""){console.error("Selected Expiry Date is empty or invalid.");return}this.ScripMasterService.getAllScriptData().subscribe(n=>{this.scriptData=n,this.pSymbol=this.scriptData.map(t=>{let s=this.expiryDataConvertion(+t["lExpiryDate "]);return H(_({},t),{lExpiryDate:s})})})}sortStrikePrices(){this.sortedStrikePrices=this.optionsData.map(e=>parseInt(e.strikeprice,10)).sort((e,n)=>n-e)}setupFetchInterval(){this.fetchInterval=setInterval(()=>{this.fetchOptionChainData()},2e3)}convertToPercentage(e){let n=parseFloat(e);return isNaN(n)?"N/A":n.toFixed(2)+"%"}selectExpiry(e){this.selectedExpiry=e;let n=document.getElementById("expiryDropdownInput");n&&(n.value=e,this.fetchOptionChainData())}setExpiryDate(e){console.log("clicked on setExpiryDate"),this.selectedExpiry=e,this.fetchOptionChainData()}setScriptType(e){console.log("clicked on setScriptType"),this.selectedScript=e,this.fetchExpiryDates(),this.fetchOptionChainData()}setupWebSocket(){this.wsService.loadScript("assets/hslib.js").then(()=>{if(typeof HSWebSocket>"u"){console.error("HSWebSocket is not defined. Check if hslib.js is loaded properly.");return}this.wsService.connectHsm(this.token,this.sid,e=>{this.handleWebSocketMessage(e)}),this.wsService.connectHsi(this.token,this.sid,"handshakeServerId",e=>{this.handleWebSocketMessage(e)}),this.wsService.sendMessageToUserWS({type:"ifs",scrips:this.subIndices,channelnum:"1"}),this.wsService.sendMessageToUserWS({type:"mws",scrips:this.subOptions,channelnum:"2"})}).catch(e=>{console.error("Failed to load script:",e)})}handleWebSocketMessage(e){try{let n=e.data,t=JSON.stringify(e),r=JSON.parse(t),s=JSON.parse(r);Array.isArray(s)&&s[0]?.iv?(this.presentIndexData=[s[0]],this.ivValue=parseFloat(s[0]?.iv),console.log("this.ivValue",this.ivValue),this.simulateRealTimeChange(this.ivValue),this.scrollToIvStrikePrice()):Array.isArray(s)&&s[0]?.ltp?this.liveDataSubject.next(s):(this.liveDataSubject.next([]),this.presentIndexData=[])}catch(n){console.error("Failed to parse WebSocket message data:",n),this.liveDataSubject.next([]),this.presentIndexData=[]}}getDisplayName(e){return this.scriptMap[e]||e}isWithinTolerance(e,n,t){return Math.abs(e-n)<=t}scrollToIvStrikePrice(){setTimeout(()=>{document.querySelectorAll("tbody tr").forEach(n=>{let t=n.querySelector("td:nth-child(6)");if(t){let r=parseFloat(t.textContent||"0");this.isWithinTolerance(r,this.ivValue,this.tolerance)?(n.classList.add("table-danger"),n.scrollIntoView({behavior:"smooth",block:"center"})):n.classList.remove("table-danger")}})},0)}updateData(e){this.ScripMasterService.setAllScriptData(e)}simulateRealTimeChange(e){this.ScripMasterService.updateTargetNumber(e)}strikePriceChangesDectection(){this.ScripMasterService.targetNumber$.subscribe(e=>{this.strikePriceResult=this.ScripMasterService.generateNumberSequence(e,this.count,this.step),console.log("strikePriceChangesDectection",this.strikePriceResult)})}getStrikePrice(e){let{stepSize:n,countBefore:t,countAfter:r}=this.getParametersForSelection("banknifty"),s=this.roundToNearestStep(this.ivValue,n);this.indexedDbService.getStrinkePriceRangeData("BANKNIFTY",50100,n,t,r).then(o=>{o?(this.masterScript=this.convertExpiryDateToFormattedDate(o),console.log("Retrieved Rage data:",this.masterScript),this.fetchExpiryDates()):console.log(`No data found for dStrikePrice ${this.ivValue}`)}).catch(o=>{console.error("Error loading data:",o)})}getFilteredExpiryDates(e){return e.filter(n=>n.lExpiryDate!==void 0&&!isNaN(parseInt(n.lExpiryDate,10))).map(n=>n.lExpiryDate)}getParametersForSelection(e){let n;switch(e.toLowerCase()){case"nifty":n=50;break;case"banknifty":n=100;break;default:console.error("Unknown selection. Defaulting stepSize to 50."),n=50;break}return{stepSize:n,countBefore:10,countAfter:10}}roundToNearestStep(e,n){if(n<=0)throw new Error("Step size must be positive.");return Math.round(e/n)*n}convertExpiryDateToFormattedDate(e){return e.map(n=>{let t="lExpiryDate ";if(n[t]!==void 0&&!isNaN(parseInt(n[t]))){let r=parseInt(n[t],10),s=this.formatDateFromNumericValue(r);return H(_({},n),{lExpiryDate:s})}return n})}formatDateFromNumericValue(e){let n;if(typeof e=="number")n=(e+315513e3)*1e3;else if(/^\d+$/.test(e))n=(parseInt(e)+315513e3)*1e3;else return e;return new Date(n).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}).toUpperCase()}getUniqueFormattedDates(e){let n=new Set;return e.forEach(t=>{let r=this.formatDateFromNumericValue(t);n.add(r)}),Array.from(n)}static \u0275fac=function(n){return new(n||i)(g(qt),g(Vi),g(Ui),g(Bi))};static \u0275cmp=_e({type:i,selectors:[["app-option-chain"]],standalone:!0,features:[be],decls:50,vars:13,consts:[[1,"container","mt-4"],[1,"row","mb-2","justify-content-end"],[1,"col-md-2","d-flex"],[1,"dropdown"],["type","button","id","scriptDropdown","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","bg-secondary","text-white","dropdown-toggle"],["aria-labelledby","scriptDropdown",1,"dropdown-menu","overflow-auto","bg-secondary","text-white"],[4,"ngFor","ngForOf"],[3,"click"],["type","button","id","expiryDropdown","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","bg-secondary","text-white","dropdown-toggle"],["aria-labelledby","expiryDropdown",1,"dropdown-menu","overflow-auto","bg-secondary","text-white"],[1,"text-center","border","border-dark","rounded-1",2,"background-color","#3e93b8 !important"],[1,"table-responsive","table-container"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","volume"],["mat-header-cell","","class","text-center",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","oi"],["matColumnDef","oiChg"],["matColumnDef","ltpChg"],["matColumnDef","ltp"],["matColumnDef","strikePrice"],["mat-header-cell","","class","text-center bg-secondary",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-cell","","class","text-center",4,"matCellDef"],["type","button",1,"dropdown-item","bg-secondary","text-white",3,"click"],["mat-header-cell","",1,"text-center"],["mat-cell",""],["mat-header-cell","",1,"text-center","bg-secondary"],["mat-header-row",""],["mat-row",""],["mat-cell","",1,"text-center"]],template:function(n,t){n&1&&(y(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"button",4),A(5),v(),y(6,"ul",5),oe(7,ap,3,1,"li",6),v()()(),y(8,"div")(9,"button",7),ue("click",function(){return t.getStrikePrice("25000")}),A(10,"strikePrice"),v()(),y(11,"div",2)(12,"div",3)(13,"button",8),A(14),v(),y(15,"ul",9),oe(16,cp,3,1,"li",6),v()()()(),y(17,"div",10)(18,"h2"),A(19,"Option Chain Data"),v(),y(20,"span"),A(21),v()(),y(22,"div",11)(23,"table",12),dt(24,13),oe(25,lp,2,0,"th",14)(26,dp,2,1,"td",15),ut(),dt(27,16),oe(28,up,2,0,"th",14)(29,hp,2,1,"td",15),ut(),dt(30,17),oe(31,fp,2,0,"th",14)(32,pp,2,1,"td",15),ut(),dt(33,18),oe(34,mp,2,0,"th",14)(35,gp,2,1,"td",15),ut(),dt(36,19),oe(37,vp,2,0,"th",14)(38,yp,2,1,"td",15),ut(),dt(39,20),oe(40,_p,2,0,"th",21)(41,bp,2,1,"td",15),ut(),oe(42,wp,1,0,"tr",22)(43,Cp,1,0,"tr",23),v(),y(44,"table",12),dt(45,20),oe(46,Dp,2,0,"th",14)(47,Sp,2,1,"td",24),ut(),oe(48,Ep,1,0,"tr",22)(49,Ip,1,0,"tr",23),v()()()),n&2&&(M(5),Ve(" ",t.getDisplayName(t.selectedScript)||"Select Script"," "),M(2),ie("ngForOf",t.scriptList),M(7),Ve(" ",t.selectedExpiry||"Select Expiry"," "),M(2),ie("ngForOf",t.expiryDates),M(5),ya(t.ivValue),M(2),ie("dataSource",t.liveData$),M(19),ie("matHeaderRowDef",t.displayedColumns),M(),ie("matRowDefColumns",t.displayedColumns),M(),ie("dataSource",t.strikePriceResult),M(4),ie("matHeaderRowDef",hs(11,nd)),M(),ie("matRowDefColumns",hs(12,nd)))},dependencies:[ti,Kn,Ql,Bl,$l,ql,Wl,zl,Kl,Hl,Gl,Yl,Zl],styles:[".table-container[_ngcontent-%COMP%]{max-height:450px;overflow-y:auto;position:relative}.table-container[_ngcontent-%COMP%]::-webkit-scrollbar{width:0;height:0;display:none}.table-container[_ngcontent-%COMP%]{-ms-overflow-style:none;scrollbar-width:none}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{white-space:nowrap}table[_ngcontent-%COMP%]{border-collapse:separate;border-spacing:0}thead.sticky-lg-top[_ngcontent-%COMP%]{z-index:1}.dropdown-menu[_ngcontent-%COMP%]{z-index:1050;max-height:12.5rem;overflow-y:auto;overflow-x:hidden;border-radius:.375rem;box-shadow:0 4px 6px #0000001a;background-color:#6c757d;color:#fff}.dropdown-menu[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}.dropdown-menu[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#888;border-radius:4px}.dropdown-menu[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#555}.dropdown-item[_ngcontent-%COMP%]{white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.text-success[_ngcontent-%COMP%]{color:#16e616}"]})};var Yr=class i{LAST_CLEAR_DATE_KEY="lastClearDate";TOKEN_KEY="token";ACCESS_TOKEN_KEY="accessToken";AUTH_TOKEN_KEY="authToken";SID_KEY="sid";RID_KEY="rid";constructor(){}setLastClearDate(e){localStorage.setItem(this.LAST_CLEAR_DATE_KEY,e)}getLastClearDate(){return localStorage.getItem(this.LAST_CLEAR_DATE_KEY)}setToken(e){localStorage.setItem(this.TOKEN_KEY,e)}getToken(){return localStorage.getItem(this.TOKEN_KEY)}setAccessToken(e){localStorage.setItem(this.ACCESS_TOKEN_KEY,e)}getAccessToken(){return localStorage.getItem(this.ACCESS_TOKEN_KEY)}setAuthToken(e){localStorage.setItem(this.AUTH_TOKEN_KEY,e)}getAuthToken(){return localStorage.getItem(this.AUTH_TOKEN_KEY)}setSid(e){localStorage.setItem(this.SID_KEY,e)}getSid(){return localStorage.getItem(this.SID_KEY)}setRid(e){localStorage.setItem(this.RID_KEY,e)}getRid(){return localStorage.getItem(this.RID_KEY)}clearTokens(){localStorage.removeItem("token"),localStorage.removeItem("accessToken"),localStorage.removeItem("authToken"),localStorage.removeItem("sid"),localStorage.removeItem("rid")}static \u0275fac=function(n){return new(n||i)};static \u0275prov=w({token:i,factory:i.\u0275fac,providedIn:"root"})};var Zr=class i{constructor(e,n,t){this.wsService=e;this.router=n;this.tokenService=t}token="";sid="";handshakeServerId="";channelNumber="1";subScrips="nse_cm|11536&nse_cm|1594&nse_cm|3456";subIndices="nse_cm|Nifty 50&nse_cm|Nifty Realty";subDepth="nse_cm|11536&nse_cm|11000&nse_cm|11001";streamScrips="";streamOrders="";userId="";userPassword="";streamScrips1="";ngOnInit(){this.token=localStorage.getItem("token")||"",this.sid=localStorage.getItem("sid")||""}wconnect(e){e==="Hsi"?this.wsService.connectHsi(this.token,this.sid,this.handshakeServerId,this.consoleLog1.bind(this)):e==="Hsm"&&this.wsService.connectHsm(this.token,this.sid,this.consoleLog.bind(this))}wsub(e,n){let t=this.channelNumber,r=document.getElementById(n).value,s={type:e,scrips:r,channelnum:t};this.wsService.sendMessageToUserWS(s)}consoleLog(e){let n=new Date;this.streamScrips+=`${n}
${e.data}

`,console.log("this.streamScrips",this.streamScrips);let t=document.getElementById("stream_scrips");t&&(t.scrollTop=t.scrollHeight-t.clientHeight)}consoleLog1(e){let n=new Date;this.streamScrips1+=`${n}
${e.data}

`,console.log("this.streamScrips1",this.streamScrips1);let t=document.getElementById("stream_scrips1");t&&(t.scrollTop=t.scrollHeight-t.clientHeight)}subscribeToScrips(){let e=this.channelNumber;this.wsService.sendMessageToUserWS({type:"mws",scrips:this.subScrips,channelnum:e})}subscribeToIndices(){let e=this.channelNumber;this.wsService.sendMessageToUserWS({type:"ifs",scrips:this.subIndices,channelnum:e})}subscribeToDepth(){let e=this.channelNumber;this.wsService.sendMessageToUserWS({type:"dps",scrips:this.subDepth,channelnum:e})}sendCommand(e,n){this.wsService.closeHsmConnection()}resumeChannel(){this.wsService.closeHsiConnection()}logout(){this.token="",this.sid="",this.handshakeServerId="",this.channelNumber="",this.streamScrips="",this.streamScrips1="",sessionStorage.clear(),this.tokenService.getLastClearDate()&&(this.tokenService.clearTokens(),this.router.navigate(["/login"]))}static \u0275fac=function(n){return new(n||i)(g(Vi),g(mt),g(Yr))};static \u0275cmp=_e({type:i,selectors:[["app-dashboard"]],standalone:!0,features:[be],decls:52,vars:7,consts:[[1,"container"],[1,"row"],[1,"col-sm-12","text-end","my-3"],[1,"btn","btn-primary",3,"click"],[1,"col-sm-12"],["for","token_id"],["type","text","id","token_id","readonly","",3,"ngModelChange","ngModel"],["for","sid"],["type","text","id","sid","readonly","",3,"ngModelChange","ngModel"],["for","serverid"],["type","text","id","serverid",3,"ngModelChange","ngModel"],["for","channel_number"],["type","text","id","channel_number",3,"ngModelChange","ngModel"],[3,"click"],[1,"btn","btn-danger",3,"click"],[1,"btn","btn-success",3,"click"],["type","text","placeholder","Enter Channel Number",3,"ngModelChange","ngModel"],[1,"col-sm-6"],["id","stream_scrips","rows","10","cols","50",3,"ngModelChange","ngModel"],["id","stream_scrips1","rows","10","cols","50",3,"ngModelChange","ngModel"],[1,"row","my-3"]],template:function(n,t){n&1&&(y(0,"div",0)(1,"h1"),A(2,"Dashboard"),v(),y(3,"div",1)(4,"div",2)(5,"button",3),ue("click",function(){return t.logout()}),A(6,"Logout"),v()()(),y(7,"div",1)(8,"div",4)(9,"div")(10,"label",5),A(11,"Token"),v(),y(12,"input",6),Vt("ngModelChange",function(s){return jt(t.token,s)||(t.token=s),s}),v()(),y(13,"div")(14,"label",7),A(15,"SID"),v(),y(16,"input",8),Vt("ngModelChange",function(s){return jt(t.sid,s)||(t.sid=s),s}),v()(),y(17,"div")(18,"label",9),A(19,"HandshakeServerId"),v(),y(20,"input",10),Vt("ngModelChange",function(s){return jt(t.handshakeServerId,s)||(t.handshakeServerId=s),s}),v()(),y(21,"div")(22,"label",11),A(23,"Channel Number"),v(),y(24,"input",12),Vt("ngModelChange",function(s){return jt(t.channelNumber,s)||(t.channelNumber=s),s}),v()(),y(25,"button",13),ue("click",function(){return t.wconnect("Hsm")}),A(26,"Connect HSM"),v(),y(27,"button",13),ue("click",function(){return t.wconnect("Hsi")}),A(28,"Connect HSI"),v(),y(29,"button",14),ue("click",function(){return t.sendCommand("cp",t.channelNumber)}),A(30,"Pause"),v(),y(31,"button",15),ue("click",function(){return t.sendCommand("cr",t.channelNumber)}),A(32,"Resume"),v(),y(33,"input",16),Vt("ngModelChange",function(s){return jt(t.channelNumber,s)||(t.channelNumber=s),s}),v(),y(34,"button",13),ue("click",function(){return t.subscribeToScrips()}),A(35,"Subscribe Scrips"),v(),y(36,"button",13),ue("click",function(){return t.subscribeToIndices()}),A(37,"Subscribe Indices"),v(),y(38,"button",13),ue("click",function(){return t.subscribeToDepth()}),A(39,"Subscribe Depth"),v()()(),y(40,"div",1)(41,"div",17)(42,"h2"),A(43,"Streaming Scrips"),v(),y(44,"textarea",18),Vt("ngModelChange",function(s){return jt(t.streamScrips,s)||(t.streamScrips=s),s}),v()(),y(45,"div",17)(46,"h2"),A(47,"Streaming Orders"),v(),y(48,"textarea",19),Vt("ngModelChange",function(s){return jt(t.streamScrips1,s)||(t.streamScrips1=s),s}),v()()(),y(49,"div",20)(50,"div",4),Me(51,"app-option-chain"),v()()()),n&2&&(M(12),Lt("ngModel",t.token),M(4),Lt("ngModel",t.sid),M(4),Lt("ngModel",t.handshakeServerId),M(4),Lt("ngModel",t.channelNumber),M(9),Lt("ngModel",t.channelNumber),M(11),Lt("ngModel",t.streamScrips),M(4),Lt("ngModel",t.streamScrips1))},dependencies:[ti,yr,Si,pr,Us,zi],styles:[".dashboard[_ngcontent-%COMP%]{padding:20px}.metrics[_ngcontent-%COMP%]{display:flex;justify-content:space-around}.metric[_ngcontent-%COMP%]{border:1px solid #ddd;padding:10px;width:30%;text-align:center}"]})};var Pn=class i{constructor(e){this.router=e}canActivate(){return localStorage.getItem("authToken")?!0:(this.router.navigate(["/login"]),!1)}static \u0275fac=function(n){return new(n||i)(C(mt))};static \u0275prov=w({token:i,factory:i.\u0275fac,providedIn:"root"})};var Qr=class i{constructor(e){this.router=e}canActivate(){let e=localStorage.getItem("authToken");return console.log("token is in canactive",e),e?(this.router.navigate(["/home"]),!1):!0}static \u0275fac=function(n){return new(n||i)(C(mt))};static \u0275prov=w({token:i,factory:i.\u0275fac,providedIn:"root"})};var rd=[{path:"login",component:Pr,canActivate:[Qr]},{path:"",redirectTo:"/login",pathMatch:"full"},{path:"home",component:Zr,canActivate:[Pn]},{path:"optionchain",component:zi,canActivate:[Pn]}];var Tp="@",kp=(()=>{let e=class e{constructor(t,r,s,o,a){this.doc=t,this.delegate=r,this.zone=s,this.animationType=o,this.moduleImpl=a,this._rendererFactoryPromise=null,this.scheduler=b(ma,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){return(this.moduleImpl??import("./chunk-2U6N4PVT.js").then(r=>r)).catch(r=>{throw new X(5300,!1)}).then(({\u0275createEngine:r,\u0275AnimationRendererFactory:s})=>{this._engine=r(this.animationType,this.doc);let o=new s(this.delegate,this._engine,this.zone);return this.delegate=o,o})}createRenderer(t,r){let s=this.delegate.createRenderer(t,r);if(s.\u0275type===0)return s;typeof s.throwOnSyntheticProps=="boolean"&&(s.throwOnSyntheticProps=!1);let o=new Jo(s);return r?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(a=>{let l=a.createRenderer(t,r);o.use(l),this.scheduler?.notify(9)}).catch(a=>{o.use(s)}),o}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}};e.\u0275fac=function(r){ds()},e.\u0275prov=w({token:e,factory:e.\u0275fac});let i=e;return i})(),Jo=class{constructor(e){this.delegate=e,this.replay=[],this.\u0275type=1}use(e){if(this.delegate=e,this.replay!==null){for(let n of this.replay)n(e);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(e,n){return this.delegate.createElement(e,n)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}get destroyNode(){return this.delegate.destroyNode}appendChild(e,n){this.delegate.appendChild(e,n)}insertBefore(e,n,t,r){this.delegate.insertBefore(e,n,t,r)}removeChild(e,n,t){this.delegate.removeChild(e,n,t)}selectRootElement(e,n){return this.delegate.selectRootElement(e,n)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,n,t,r){this.delegate.setAttribute(e,n,t,r)}removeAttribute(e,n,t){this.delegate.removeAttribute(e,n,t)}addClass(e,n){this.delegate.addClass(e,n)}removeClass(e,n){this.delegate.removeClass(e,n)}setStyle(e,n,t,r){this.delegate.setStyle(e,n,t,r)}removeStyle(e,n,t){this.delegate.removeStyle(e,n,t)}setProperty(e,n,t){this.shouldReplay(n)&&this.replay.push(r=>r.setProperty(e,n,t)),this.delegate.setProperty(e,n,t)}setValue(e,n){this.delegate.setValue(e,n)}listen(e,n,t){return this.shouldReplay(n)&&this.replay.push(r=>r.listen(e,n,t)),this.delegate.listen(e,n,t)}shouldReplay(e){return this.replay!==null&&e.startsWith(Tp)}};function sd(i="animations"){return us("NgAsyncAnimations"),Qt([{provide:yi,useFactory:(e,n,t)=>new kp(e,n,t,i),deps:[Z,ir,de]},{provide:ls,useValue:i==="noop"?"NoopAnimations":"BrowserAnimations"}])}var od={providers:[_a({eventCoalescing:!0}),ll(rd),Va(),yr,qt,sd()]};var Xr=class i{constructor(e,n){this.scripMasterService=e;this.indexedDbService=n}title="AlgoTrading";ngOnInit(){this.indexedDbService.performDailyDeletion(),this.clearLocalStorageOnceDaily(),this.checkTokenExpiration(),this.loadScripMaster()}clearLocalStorageOnceDaily(){let e=localStorage.getItem("lastClearDate"),n=new Date().toISOString().split("T")[0];e!==n&&(localStorage.clear(),localStorage.setItem("lastClearDate",n))}checkTokenExpiration(){let e=localStorage.getItem("authToken"),n=localStorage.getItem("tokenExpiration");if(e&&n){let t=parseInt(n,10);new Date().getTime()>t&&localStorage.clear()}}loadScripMaster(){return je(this,null,function*(){try{let e=yield this.scripMasterService.scripMasterInit("NiftyBank"),n=this.indexedDbService.getCurrentTimestamp(),t=this.indexedDbService.getLastDeletionTimestamp();!t||n-t>=864e5?this.addNewData(e):console.log("Data already Added for the day")}catch(e){console.error("Error:",e)}})}addNewData(e){e.forEach(n=>{this.indexedDbService.addData(n)}),console.log("addNewData successfully")}static \u0275fac=function(n){return new(n||i)(g(Ui),g(Bi))};static \u0275cmp=_e({type:i,selectors:[["app-root"]],standalone:!0,features:[be],decls:3,vars:0,consts:[[1,"main"],[1,"content"]],template:function(n,t){n&1&&(y(0,"main",0),Me(1,"div",1),v(),Me(2,"router-outlet"))},dependencies:[So]})};Ga(Xr,od).catch(i=>console.error(i));
